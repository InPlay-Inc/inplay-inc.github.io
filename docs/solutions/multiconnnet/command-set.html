<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="MultiConnNet Module Instruction Set # The MultiConnNet is Inplay&rsquo;s proprietary Multi-Connection Private Network system. It is a 2.4GHz wireless communication network based on a private SDR (Software Defined Radio) protocol, utilizing a one-to-many star connection topology.
The system is comprised of two primary components: the Gateway module and the Node module. The module is connected to the HOST via UART interface, and this instruction set defines the data packet format between the module and the HOST."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:title" content="Module Instruction Set"><meta property="og:description" content="MultiConnNet Module Instruction Set # The MultiConnNet is Inplay&rsquo;s proprietary Multi-Connection Private Network system. It is a 2.4GHz wireless communication network based on a private SDR (Software Defined Radio) protocol, utilizing a one-to-many star connection topology.
The system is comprised of two primary components: the Gateway module and the Node module. The module is connected to the HOST via UART interface, and this instruction set defines the data packet format between the module and the HOST."><meta property="og:type" content="article"><meta property="og:url" content="/docs/solutions/multiconnnet/command-set.html"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2025-01-23T15:15:39+08:00"><title>Module Instruction Set | InPlay Doc</title>
<link rel=manifest href=../../../manifest.json><link rel=icon href=../../../favicon.png><link rel=stylesheet href=../../../book.min.7b5ca60448c7e874974d6d12156f89c2b32da59c25ae776b2522852d3ebb0865.css><script defer src=../../../flexsearch.min.js></script><script defer src=../../../en.search.min.c8d7c187077ce1d24b2c7ef4555b41b20c86116591ca9f3e7ab54b696ec362a0.js></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=../../../><span>InPlay Doc</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><input type=checkbox id=section-ee8b8fb3a2ebd2cf7f56e1b840730602 class=toggle>
<label for=section-ee8b8fb3a2ebd2cf7f56e1b840730602 class="flex justify-between"><a role=button>IN100</a></label><ul></ul></li><li><input type=checkbox id=section-0bc0ac0bfec6b1ae25463138a2ae299e class=toggle checked>
<label for=section-0bc0ac0bfec6b1ae25463138a2ae299e class="flex justify-between"><a role=button>Solutions</a></label><ul><li><input type=checkbox id=section-f3c900f3ced930b282424e06187e7b20 class=toggle>
<label for=section-f3c900f3ced930b282424e06187e7b20 class="flex justify-between"><a role=button>Find My</a></label><ul><li><a href=../../../docs/solutions/find-my/find-my-sdk-guide.html>Find My Sdk Guide</a></li></ul></li><li><input type=checkbox id=section-01b7a4cd745504c7ef54cce6910e09a8 class=toggle checked>
<label for=section-01b7a4cd745504c7ef54cce6910e09a8 class="flex justify-between"><a role=button>MultiConnNet</a></label><ul><li><a href=../../../docs/solutions/multiconnnet/introduction.html>Introduction</a></li><li><a href=../../../docs/solutions/multiconnnet/command-set.html class=active>Module Instruction Set</a></li><li><a href=../../../docs/solutions/multiconnnet/user-guild.html>User Guilde</a></li></ul></li><li><input type=checkbox id=section-15c87bcd4d931f9a897cb9565047755d class=toggle>
<label for=section-15c87bcd4d931f9a897cb9565047755d class="flex justify-between"><a role=button>Wireless Modbus Network</a></label><ul><li><a href=../../../docs/solutions/modbus/wireless-modbus-demo-guide.html>Wireless Modbus Demo Guide</a></li><li><a href=../../../docs/solutions/modbus/wireless-modbus-module.html>Wireless Modbus Module</a></li></ul></li></ul></li><li><input type=checkbox id=section-7e7f18f2dd14f1d43dd9be3434b07e7b class=toggle>
<label for=section-7e7f18f2dd14f1d43dd9be3434b07e7b class="flex justify-between"><a role=button>IN6XX</a></label><ul><li><input type=checkbox id=section-63252a7c2c256e222256d33b9f7363a6 class=toggle>
<label for=section-63252a7c2c256e222256d33b9f7363a6 class="flex justify-between"><a role=button>Getting Started</a></label><ul><li><input type=checkbox id=section-7e1496f76a7a40a604ce733f3e2bdacf class=toggle>
<label for=section-7e1496f76a7a40a604ce733f3e2bdacf class="flex justify-between"><a role=button>Installation</a></label><ul><li><a href=../../../docs/in6xx/getting-started/installation/quick-start.html>Quick Start</a></li></ul></li><li><input type=checkbox id=section-7c5cc973fcb5ebb7f1a051dd9211755c class=toggle>
<label for=section-7c5cc973fcb5ebb7f1a051dd9211755c class="flex justify-between"><a role=button>Configration and Building</a></label><ul></ul></li><li><input type=checkbox id=section-fb6709c7bc2f74dd748ca851379bed41 class=toggle>
<label for=section-fb6709c7bc2f74dd748ca851379bed41 class="flex justify-between"><a role=button>Download Image</a></label><ul><li><a href=../../../docs/in6xx/getting-started/download/in_prog-guide.html>InPlay Programmer Guide</a></li><li><a href=../../../docs/in6xx/getting-started/download/jflash-download-guide.html>JFlash Programming</a></li><li><a href=../../../docs/in6xx/getting-started/download/mp-tool-guide.html>MP Tool Guide</a></li></ul></li><li><input type=checkbox id=section-ed9f99fe4754a35a21fe02be8b0cb4f7 class=toggle>
<label for=section-ed9f99fe4754a35a21fe02be8b0cb4f7 class="flex justify-between"><a role=button>Testing and Debuging</a></label><ul><li><a href=../../../docs/in6xx/getting-started/testing/rtt-viewer-guide.html>Rtt Viewer Guide</a></li><li><a href=../../../docs/in6xx/getting-started/testing/debug-guide.html>Debug Guide</a></li><li><a href=../../../docs/in6xx/getting-started/testing/hci_command.html>HCI Command</a></li></ul></li></ul></li><li><input type=checkbox id=section-4180a1cd8bda36e24d2a9c527ab046fe class=toggle>
<label for=section-4180a1cd8bda36e24d2a9c527ab046fe class="flex justify-between"><a role=button>Protocol Reference</a></label><ul><li><input type=checkbox id=section-7dd9db7eea8acbc738b8e6a6e64afef0 class=toggle>
<label for=section-7dd9db7eea8acbc738b8e6a6e64afef0 class="flex justify-between"><a role=button>BLE</a></label><ul><li><a href=../../../docs/in6xx/protocol-reference/ble/gatt-programming-guide.html>GATT Programming Guide</a></li><li><a href=../../../docs/in6xx/protocol-reference/ble/inplay_trx_profile.html>Inplay Transparent Data Transmission (TRx) profile User Guide</a></li></ul></li></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=../../../svg/menu.svg class=book-icon alt=Menu>
</label><strong>Module Instruction Set</strong>
<label for=toc-control><img src=../../../svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ol><li><a href=#serial-port-configuration-id1>Serial Port Configuration (ID=1)</a></li><li><a href=#network-parameter-configuration-id2>Network Parameter Configuration (ID=2)</a></li><li><a href=#external-power-amplifier-control-configuration-id3>External Power Amplifier Control Configuration (ID=3)</a></li><li><a href=#get-state-id10>Get State (ID=10)</a></li><li><a href=#get-connection-id11>Get Connection (ID=11)</a></li><li><a href=#module-reset-id0x20>Module Reset (ID=0x20)</a></li><li><a href=#modue-run-id0x21>Modue Run (ID=0x21)</a></li><li><a href=#module-gpio-output-id0x22>Module GPIO Output (ID=0x22)</a></li><li><a href=#module-gpio-input-trigger-id0x23>Module GPIO Input Trigger (ID=0x23)</a></li><li><a href=#data-transmission-id0x30>Data Transmission (ID=0x30)</a></li><li><a href=#firmware-update-command-id0x40>Firmware Update command (ID=0x40)</a><ol><li><a href=#prepare>Prepare</a></li><li><a href=#write>Write</a></li><li><a href=#cancel>Cancel</a></li></ol></li></ol><ol><li><a href=#module-ready-event-id0xa0>Module Ready Event (ID=0xA0)</a></li><li><a href=#connection-event-id0xa1>Connection Event (ID=0xA1)</a></li><li><a href=#transmission-done-event-id0xa2>Transmission Done Event (ID=0xA2)</a></li><li><a href=#data-reception-event-id0xa3>Data Reception Event (ID=0xA3)</a></li><li><a href=#gpio-input-trigger-event-id0xa4>GPIO Input Trigger Event (ID=0xA4)</a></li></ol></nav></aside></header><article class=markdown><h1 id=multiconnnet-module-instruction-set>MultiConnNet Module Instruction Set
<a class=anchor href=#multiconnnet-module-instruction-set>#</a></h1><hr><p>The MultiConnNet is Inplay&rsquo;s proprietary Multi-Connection Private Network system. It is a 2.4GHz wireless communication network based on a private SDR
(Software Defined Radio) protocol, utilizing a one-to-many star connection topology.</p><p>The system is comprised of two primary components: the <strong>Gateway</strong> module and the <strong>Node</strong> module. The module is connected to the HOST via UART interface, and this instruction set defines the data packet format between the module and the HOST.</p><p>The data packet originally issued by HOST is called <strong>Command</strong> and the module will return <strong>Response</strong> to HOST accordingly. The data packet
originally issued by the module is called <strong>Event</strong>.</p><h1 id=command-and-response>Command and Response
<a class=anchor href=#command-and-response>#</a></h1><p>Command and corresponding Response are data packets consist of a sequence of bytes. The format of the data packet is as follows.</p><br><table><thead><tr><th>Sync Word</th><th>ID</th><th>Owner</th><th>Body Len</th><th>Body</th></tr></thead><tbody><tr><td>(1 byte)</td><td>(1 byte)</td><td>(2 bytes)</td><td>(2 bytes)</td><td>(variable)</td></tr></tbody></table><p><em>Figure 1: Command and response data packet format</em></p><br><ul><li><p><strong>Sync Word:</strong> Fixed 0x4A for command and corresponding response.</p></li><li><p><strong>ID:</strong> unique command id.</p></li><li><p><strong>Owner:</strong> Represents who will actually excute the command or who send it for response. 0 represents local module, otherwise remote module&rsquo;s device address.</p></li><li><p><strong>Body Len:</strong> is the length of variable body that follows.</p></li></ul><p>Command can be executed by local module or remote module. If command is executed locally (<em><strong>Owner</strong></em> in command data packet is 0), the receiver module will send back a response data packet to the HOST immediately, indicating the result of execution. This response is referred to as <em><strong>Local Response</strong></em> (Owner is 0 in response data packet). If command is executed remotely (<em><strong>Owner</strong></em> in command data packet is non-zero), the receiver module will send back local response immediately, indicating whether the command is accepted or not. If accepted, a subsequent <a href=#transmission-done-event-id0x66>Transmission Done Event</a> is then received by HOST indicates the command is actually passed-through to the remote module. If the result of transmission is success, additional response data packet from the remote module will then be forwarded back to the HOST. Since <em><strong>Owner</strong></em> field is actual device address (non-zero) in this response, it is referred to as <em><strong>Remote Response</strong></em>.</p><p>Commands that execute remotely are only issued to gateway module. For node module, all commands are local command so that <em><strong>Owner</strong></em> field is ignored.</p><p>Configuration commands are those that must be sent at least once by HOST prior to other commands. Parameters by configuration command can be stored in flash so that system can automatically start running each time power on reset, without configuration command being issue again. Configuration command are local command only.</p><p><a href=#data-transmission-id9>Data Transmission</a> command is the only remote command that <em><strong>Remote Response</strong></em> is not generated since data is totally passed-through to HOST and completely user dependent.</p><p>Here are details of MultiConnNet commands and corresponding responses:</p><h2 id=serial-port-configuration-id1>Serial Port Configuration (ID=1)
<a class=anchor href=#serial-port-configuration-id1>#</a></h2><p>This command changes parameters of the serial port that interacts with HOST. It is for local only. It is optional, meaning that if not configured, the module will use following default UART configurations:</p><ul><li>GPIO_2_1 as UART TX and GPIO_2_7 as UART RX</li><li>921,600 bps</li><li>8 bits</li><li>No Parity</li><li>1 Stop bit</li><li>Hardware flow control disabled</li></ul><p>The command is as follows:</p><table width=100% border=0><tr><th width=1% align=center bgcolor=#cccccc><font size=1>OFFSET</font></th><th width=15% align=center bgcolor=#cccccc><font size=1>NAME</font></th><th width=1% align=center bgcolor=#cccccc><font size=1>LENGTH</font></th><th width=58% align=center bgcolor=#cccccc><font size=1>VALUE</font></th></tr><tr><td align=center><font size=0>4</font></td><td align=center><font size=0>TX GPIO</font></td><td align=center><font size=0>1</font></td><td><font size=0>Specify which GPIO is multiplexed for UART TX function. The upper 4 bits represent the Port, and the lower 4 bits represent the Pin. For example, for GPIO_0_2, TX GPIO=0x02.</font></td></tr><tr><td align=center><font size=0>5</font></td><td align=center><font size=0>RX GPIO</font></td><td align=center><font size=0>1</font></td><td><font size=0>Same as TX GPIO</font></td></tr><tr><td align=center><font size=0>6</font></td><td align=center><font size=0>RTS GPIO</font></td><td align=center><font size=0>1</font></td><td><font size=0>Same as TX GPIO. If 0xFF, RTS signal is not used.</font></td></tr><tr><td align=center><font size=0>7</font></td><td align=center><font size=0>CTS GPIO</font></td><td align=center><font size=0>1</font></td><td><font size=0>Same as TX GPIO. If 0xFF, CTS signal is not used</font></td></tr><tr><td align=center><font size=0>8</font></td><td align=center><font size=0>baud rate</font></td><td align=center><font size=0>4</font></td><td><font size=0>Support 921600, 460800, 230400, 115200, 57600, 38400, 19200</font></td></tr><tr><td align=center><font size=0>12</font></td><td align=center><font size=0>data bit</font></td><td align=center><font size=0>1</font></td><td><font size=0>Data bit length. 5 - 8</font></td></tr><tr><td align=center><font size=0>13</font></td><td align=center><font size=0>polarity</font></td><td align=center><font size=0>1</font></td><td style=white-space:pre><font size=0>0: None<br>1: Odd<br>2: Even</font></td></tr><tr><td align=center><font size=0>14</font></td><td align=center><font size=0>stop bit</font></td><td align=center><font size=0>1</font></td><td><font size=0>Stop bit number</font></td></tr><tr><td align=center><font size=0>15</font></td><td align=center><font size=0>receive buffer size</font></td><td align=center><font size=0>4</font></td><td><font size=0>Receive buffer size, Maximum 2048</font></td></tr><tr><td align=center><font size=0>19</font></td><td align=center><font size=0>reserved</font></td><td align=center><font size=0>1</font></td><td><font size=0>0x00</font></td></tr></table><p><em>Example:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>→ 4A 01 00 00 10 00 21 27 FF FF 00 C2 01 00 08 00 01 2C 01 00 00 00      ;GPIO_2_1, GPIO_2_7, 115200bps
</span></span><span style=display:flex><span>← 4A 01 00 00 02 00 00 00                                                ;Local response
</span></span></code></pre></div><h2 id=network-parameter-configuration-id2>Network Parameter Configuration (ID=2)
<a class=anchor href=#network-parameter-configuration-id2>#</a></h2><p>This command configure module&rsquo;s network parameters. It is for local only. If network parameters are stored afterwords by <a href=#reset-id1>Reset</a> command,
module can be run automatically without sending it again.</p><p>For gateway module, the command is as follows:</p><table width=100% border=0><tr><th width=1% align=center bgcolor=#cccccc><font size=1>OFFSET</font></th><th width=15% align=center bgcolor=#cccccc><font size=1>NAME</font></th><th width=1% align=center bgcolor=#cccccc><font size=1>LENGTH</font></th><th width=58% align=center bgcolor=#cccccc><font size=1>VALUE</font></th></tr><tr><td align=center><font size=0>6</font></td><td align=center><font size=0>gateway module device address</font></td><td align=center><font size=0>2</font></td><td><font size=0>A 16-bit value that can only be taken from 0x1000 to 0xF000, where the lower 12 bits are all zeros.</font></td></tr><tr><td align=center><font size=0>8</font></td><td align=center><font size=0>access address on connection</font></td><td align=center><font size=0>4</font></td><td><font size=0>Access Address when data communication after connection</font></td></tr><tr><td align=center><font size=0>12</font></td><td align=center><font size=0>access address on pairing</font></td><td align=center><font size=0>4</font></td><td><font size=0>Access Address when pairing procedure</font></td></tr><tr><td align=center><font size=0>16</font></td><td align=center><font size=0>channel on pairing</font></td><td align=center><font size=0>1</font></td><td><font size=0>Channel on which pairing procedure is.</font></td></tr></table><p><em>Example:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>;Device address (Gateway) is 0x1000, Access Addresses are 0x67453201 and 0xABABABAB, Channel on pairing is 37
</span></span><span style=display:flex><span>→ 4A 02 00 00 0B 00 00 10 01 23 45 67 AB AB AB AB 25   
</span></span><span style=display:flex><span>← 4A 02 00 00 02 00 00 00
</span></span></code></pre></div><p>For node module, the command is as follows:</p><table width=100% border=0><tr><th width=1% align=center bgcolor=#cccccc><font size=1>OFFSET</font></th><th width=15% align=center bgcolor=#cccccc><font size=1>NAME</font></th><th width=1% align=center bgcolor=#cccccc><font size=1>LENGTH</font></th><th width=58% align=center bgcolor=#cccccc><font size=1>VALUE</font></th></tr><tr><td align=center><font size=0>6</font></td><td align=center><font size=0>node module device address</font></td><td align=center><font size=0>2</font></td><td><font size=0>A 16-bit value that can only be taken from 0x0000 to 0x0FFF, where the upper 4 bits are all zeros.</font></td></tr><tr><td align=center><font size=0>8</font></td><td align=center><font size=0>gateway device address</font></td><td align=center><font size=0>2</font></td><td><font size=0>A 16-bit value that can only be taken from 0x1000 to 0xF000, where the lower 12 bits are all zeros.</font></td></tr><tr><td align=center><font size=0>10</font></td><td align=center><font size=0>access address on pairing</font></td><td align=center><font size=0>4</font></td><td><font size=0>Access Address when pairing procedure</font></td></tr><tr><td align=center><font size=0>14</font></td><td align=center><font size=0>channel on pairing</font></td><td align=center><font size=0>1</font></td><td><font size=0>Channel on which pairing procedure is.</font></td></tr><tr><td align=center><font size=0>15</font></td><td align=center><font size=0>connection interval</font></td><td align=center><font size=0>2</font></td><td><font size=0>Node's connection interval.</font></td></tr><tr><td align=center><font size=0>17</font></td><td align=center><font size=0>supervision timeout</font></td><td align=center><font size=0>4</font></td><td><font size=0>Time in millisecond, that allowed for a device to receive data or signals from another device. If no data is received within this timeframe, the connection may be considered lost or disconnected.</font></td></tr><tr><td align=center><font size=0>21</font></td><td align=center><font size=0>pair interval</font></td><td align=center><font size=0>2</font></td><td><font size=0>Time interval in millisecond for sending pairing interaction information. The smaller the interval, the faster the pairing will be successful, but power consumption will increase.</font></td></tr><tr><td align=center><font size=0>23</font></td><td align=center><font size=0>pairing duration</font></td><td align=center><font size=0>4</font></td><td><font size=0>Duration of pairing procedure in millisecond. 0 if non stop.</font></td></tr></table><p><em>Example:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>;Node&#39;s device address is 0x0100, access address on pairing is 0x67453201, connection interval is 800ms, supervision timeout is 20000ms, pair interval is 50ms and pairing is not stopped.
</span></span><span style=display:flex><span>→ 4A 02 00 00 15 00 00 01 00 10 AB AB AB AB 25 20 03 20 4E 00 00 32 00 00 00 00 00
</span></span><span style=display:flex><span>← 4A 02 00 00 02 00 00 00
</span></span></code></pre></div><h2 id=external-power-amplifier-control-configuration-id3>External Power Amplifier Control Configuration (ID=3)
<a class=anchor href=#external-power-amplifier-control-configuration-id3>#</a></h2><p>This command sets up module&rsquo;s external Power Amplifier (PA) Control function. It is for local only. This command is optional, meaning that if not configured, the module will use following default GPIOs:</p><ul><li>TX enable: GPIO_3_3</li><li>RX enable: GPIO_2_5</li><li>BIAS: unused</li></ul><p>The TX enable GPIO will automatically output high to open electronic circuits of power amplifier when RF is opened for transmission. RX enable GPIO and BIAS GPIO share similar working principles.</p><p>The command is as follows:</p><table width=100% border=0><tr><th width=1% align=center bgcolor=#cccccc><font size=1>OFFSET</font></th><th width=15% align=center bgcolor=#cccccc><font size=1>NAME</font></th><th width=1% align=center bgcolor=#cccccc><font size=1>LENGTH</font></th><th width=58% align=center bgcolor=#cccccc><font size=1>VALUE</font></th></tr><tr><td align=center><font size=0>6</font></td><td align=center><font size=0>TX GPIO</font></td><td align=center><font size=0>1</font></td><td><font size=0>GPIO which is used to control Tx_En of expernal PA. The upper 4 bits represent the Port, and the lower 4 bits represent the Pin. For example, for GPIO_3_3, it is 0x33.</font></td></tr><tr><td align=center><font size=0>7</font></td><td align=center><font size=0>RX GPIO</font></td><td align=center><font size=0>1</font></td><td><font size=0>GPIO which is used to control Rx_En of expernal PA. The upper 4 bits represent the Port, and the lower 4 bits represent the Pin. For example, for GPIO_2_5, it is 0x25.</font></td></tr><tr><td align=center><font size=0>8</font></td><td align=center><font size=0>BIAS GPIO</font></td><td align=center><font size=0>1</font></td><td><font size=0>GPIO which is used to control bias of expernal PA. The upper 4 bits represent the Port, and the lower 4 bits represent the Pin. If no bias control, set it to 0xFF.</font></td></tr></table><p><em>Example:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>→ 4A 03 00 00 03 00 33 25 FF      ;TX GPIO is GPIO_3_3, RX GPIO is GPIO_2_5, no BIAS
</span></span><span style=display:flex><span>← 4A 03 00 00 02 00 00 00         ;Local response
</span></span></code></pre></div><h2 id=get-state-id10>Get State (ID=10)
<a class=anchor href=#get-state-id10>#</a></h2><p>This command retrieves the module status. It is for local only.</p><p>The length of this command is 0. The response is as follows:</p><table width=100% border=0><tr><th width=1% align=center bgcolor=#cccccc><font size=1>OFFSET</font></th><th width=15% align=center bgcolor=#cccccc><font size=1>NAME</font></th><th width=1% align=center bgcolor=#cccccc><font size=1>LENGTH</font></th><th width=58% align=center bgcolor=#cccccc><font size=1>VALUE</font></th></tr><tr><td align=center><font size=0>6</font></td><td align=center><font size=0>state</font></td><td align=center><font size=0>1</font></td><td style=white-space:pre><font size=0>Current module state.<br>0: Not running, module may not be fully configured yet<br>1: Running</font></td></tr></table><p><em>Example:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>→ 4A 0A 00 00 00 00         ;Try retrieving module status
</span></span><span style=display:flex><span>← 4A 0A 00 00 01 00 01      ;Module is running normally
</span></span></code></pre></div><h2 id=get-connection-id11>Get Connection (ID=11)
<a class=anchor href=#get-connection-id11>#</a></h2><p>This command retrieves the number of connected modules and corresponding device addresses. For nodes, a return value of 0 of number indicates not connected. It is for local only.</p><p>The length of this command is 0. The response is as follows:</p><table width=100% border=0><tr><th width=1% align=center bgcolor=#cccccc><font size=1>OFFSET</font></th><th width=15% align=center bgcolor=#cccccc><font size=1>NAME</font></th><th width=1% align=center bgcolor=#cccccc><font size=1>LENGTH</font></th><th width=58% align=center bgcolor=#cccccc><font size=1>VALUE</font></th></tr><tr><td align=center><font size=0>6</font></td><td align=center><font size=0>count</font></td><td align=center><font size=0>1</font></td><td><font size=0>Number of connected devices</font></td><tr><td align=center><font size=0>7</font></td><td align=center><font size=0>device address</font></td><td align=center><font size=0>count*2</font></td><td><font size=0>Device addresses of connected modules.</font></td></tr></table><p><em>Example:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>→ 4A 0B 00 00 00 00                           ;Try retrieving the connection status of gateway
</span></span><span style=display:flex><span>← 4A 0B 00 00 07 00 03 00 01 01 01 02 01      ;Gateway has connected with 3 nodes 0x0100, 0x0101 and 0x0102
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>→ 4A 0B 00 00 00 00                           ;Try retrieving the connection status of node
</span></span><span style=display:flex><span>← 4A 0B 00 00 03 00 01 00 10                  ;Node returns connection with gateway with device address 0x1000
</span></span></code></pre></div><h2 id=module-reset-id0x20>Module Reset (ID=0x20)
<a class=anchor href=#module-reset-id0x20>#</a></h2><p>This command resets the module. For node module, this command is local only (*<strong>Owner</strong> field is ignored. For gateway module it can be locally or remotely executed. The command is as follows:</p><table width=100% border=0><tr><th width=1% align=center bgcolor=#cccccc><font size=1>OFFSET</font></th><th width=15% align=center bgcolor=#cccccc><font size=1>NAME</font></th><th width=1% align=center bgcolor=#cccccc><font size=1>LENGTH</font></th><th width=58% align=center bgcolor=#cccccc><font size=1>VALUE</font></th></tr><tr><td align=center><font size=0>6</font></td><td align=center><font size=0>option</font></td><td align=center><font size=0>1</font></td><td style=white-space:pre><font size=0>0: Reset<br>1: Reset module with previous configuration cleared<br>2: Reset module with previous configuration stored</font></td></tr></table><p><em>Example:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>→ 4A 20 00 00 01 00 02         ;Save configuration before reset for local module
</span></span><span style=display:flex><span>← 4A 20 00 00 02 00 00 00      ;Local response
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>→ 4A 20 00 01 01 00 00         ;Reset remote module 0x0100 from gateway
</span></span><span style=display:flex><span>← 4A 20 00 00 02 00 00 00      ;Local module accepts command
</span></span><span style=display:flex><span>← A4 A2 04 00 00 01 00 00      ;Transmission done event
</span></span><span style=display:flex><span>← 4A 20 00 01 02 00 00 00      ;Remote response from node 0x0100
</span></span></code></pre></div><h2 id=modue-run-id0x21>Modue Run (ID=0x21)
<a class=anchor href=#modue-run-id0x21>#</a></h2><p>This command start or stop running of module. For node module, this command is local only. For gateway module it can be locally or remotely execution.
If <a href=#network-parameter-configurationid5>Network Parameter Configuration</a> is not stored, it is necessary to send this command to start the module,
otherwise module will automatically start running after power on reset.</p><p>The command is as follows:</p><table width=100% border=0><tr><th width=1% align=center bgcolor=#cccccc><font size=1>OFFSET</font></th><th width=15% align=center bgcolor=#cccccc><font size=1>NAME</font></th><th width=1% align=center bgcolor=#cccccc><font size=1>LENGTH</font></th><th width=58% align=center bgcolor=#cccccc><font size=1>VALUE</font></th></tr><tr><td align=center><font size=0>6</font></td><td align=center><font size=0>running</font></td><td align=center><font size=0>1</font></td><td style=white-space:pre><font size=0>0: Stop</br>1: Start</font></td></tr></table><p><em>Example:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>→ 4A 21 00 00 01 00 01         ;Start running of local module (either gateway or node)
</span></span><span style=display:flex><span>← 4A 21 00 00 02 00 00 00      ;Local response
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>→ 4A 21 00 01 01 00 00         ;Stop running of remote node 0x0100 (from gateway)
</span></span><span style=display:flex><span>← 4A 21 00 00 02 00 00 00      ;Local response
</span></span><span style=display:flex><span>← A4 A2 04 00 00 01 00 00      ;Transmission done event
</span></span><span style=display:flex><span>← 4A 21 00 01 02 00 00 00      ;Remote response from node with device address 0x0100
</span></span></code></pre></div><h2 id=module-gpio-output-id0x22>Module GPIO Output (ID=0x22)
<a class=anchor href=#module-gpio-output-id0x22>#</a></h2><p>The command allows the module&rsquo;s specified GPIO pin outputs to a designated level. For node, this command is local only. For gateway it can be called locally or remotely.</p><p>The command is as follows:</p><table width=100% border=0><tr><th width=1% align=center bgcolor=#cccccc><font size=1>OFFSET</font></th><th width=15% align=center bgcolor=#cccccc><font size=1>NAME</font></th><th width=1% align=center bgcolor=#cccccc><font size=1>LENGTH</font></th><th width=58% align=center bgcolor=#cccccc><font size=1>VALUE</font></th></tr><tr><td align=center><font size=0>6</font></td><td align=center><font size=0>GPIO</font></td><td align=center><font size=0>1</font></td><td><font size=0>GPIO which is configured as output functionality. The upper 4 bits represent the Port, and the lower 4 bits represent the Pin. For example, for GPIO_0_4, it is 0x04.</font></td></tr><tr><td align=center><font size=0>7</font></td><td align=center><font size=0>level</font></td><td align=center><font size=0>1</font></td><td style=white-space:pre><font size=0>Output level.<br>0 : Low level<br>other : High level</font></td></tr></table><p><em>Example:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>→ 4A 22 00 00 04 00 01 01            ;Node module&#39;s GPIO_0_1 outputs high
</span></span><span style=display:flex><span>← 4A 22 00 00 02 00 00 00            ;Local response
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>→ 4A 22 01 01 04 00 01 01                  ;Remote control node 0x0101 module&#39;s GPIO_0_1 to output high from gateway
</span></span><span style=display:flex><span>← 4A 22 00 00 02 00 00 00                  ;Local response
</span></span><span style=display:flex><span>← A4 66 04 00 01 01 00 00                  ;Transmission to node 0x0101 done
</span></span><span style=display:flex><span>← 4A 22 01 01 02 00 00 00                  ;Remote response received from node 0x0101
</span></span></code></pre></div><h2 id=module-gpio-input-trigger-id0x23>Module GPIO Input Trigger (ID=0x23)
<a class=anchor href=#module-gpio-input-trigger-id0x23>#</a></h2><p>This command allows module to trigger a <a href=#gpio-input-trigger-event-id0x68>GPIO input event</a> when GPIO is in a specified state. For node module, this command is local only, but the event can be either sent to its HOST via UART or remote connected device over the air depending on <em>target</em> field in command. For gateway module, if the command is local and then the event can only be sent to HOST via UART regarding of <em>target</em> field in command. If the command is remote execution, the event can be either sent to remote HOST via its UART or remotely to connected device over the air. To short, <em>target</em> field defines whether the event will be sent to the remote connected device corresponding to the executor of this command, with the condition that this remote device MUST only be a gateway module.</p><p>The command is as follows:</p><table width=100% border=0><tr><th width=1% align=center bgcolor=#cccccc><font size=1>OFFSET</font></th><th width=15% align=center bgcolor=#cccccc><font size=1>NAME</font></th><th width=1% align=center bgcolor=#cccccc><font size=1>LENGTH</font></th><th width=58% align=center bgcolor=#cccccc><font size=1>VALUE</font></th></tr><tr><td align=center><font size=0>6</font></td><td align=center><font size=0>GPIO</font></td><td align=center><font size=0>1</font></td><td><font size=0>GPIO which is configured as input functionality. The upper 4 bits represent the Port, and the lower 4 bits represent the Pin. For example, for GPIO_0_4, it is 0x04.</font></td></tr><tr><td align=center><font size=0>7</font></td><td align=center><font size=0>internal pull up/down</font></td><td align=center><font size=0>1</font></td><td style=white-space:pre><font size=0>0: no pull up/down<br>1: internal pull up<br>2: internal pull down</font></td></tr><tr><td align=center><font size=0>8</font></td><td align=center><font size=0>edge-triggered condition</font></td><td align=center><font size=0>1</font></td><td style=white-space:pre><font size=0>0x00: falling edge<br>0x01: rising edge<br>0x02: both edge<br>0xFF: none</font></td></tr><tr><td align=center><font size=0>9</font></td><td align=center><font size=0>target</font></td><td align=center><font size=0>1</font></td><td style=white-space:pre><font size=0>0: local HOST<br>1: remote connected device</font></td></tr></table><p><em>Example:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>→ 4A 23 00 00 04 00 04 01 00 01      ;node module GPIO_0_4 falling edge trigger with internal pull up enabled, event will be remotely sent to gateway.
</span></span><span style=display:flex><span>← 4A 23 00 00 02 00 00 00            ;Local response
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>→ 4A 23 01 01 04 00 04 01 00 01      ;gateway remotely set node module (0x0101) GPIO_0_4 falling edge trigger with internal pull up enabled, event will be remotely sent to gateway.
</span></span><span style=display:flex><span>← 4A 23 00 00 02 00 00 00            ;Local response
</span></span><span style=display:flex><span>← A4 A2 04 00 00 10 00 00            ;Transmission done event
</span></span><span style=display:flex><span>← 4A 23 01 01 02 00 00 00            ;Remote response
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>← A4 A4 04 00 01 01 04 00            ;GPIO Input trigger event
</span></span></code></pre></div><h2 id=data-transmission-id0x30>Data Transmission (ID=0x30)
<a class=anchor href=#data-transmission-id0x30>#</a></h2><p>This command initiates user data transmission either from Gateway to Node or Node to Gateway. Module will return local response first like any other commands
and then <a href=#transmission-done-eventid0x66>Transmission Done Event</a> indicating actual wireless transmission is finished or not.</p><p>The command is as follows:</p><table width=100% border=0><tr><th width=1% align=center bgcolor=#cccccc><font size=1>OFFSET</font></th><th width=15% align=center bgcolor=#cccccc><font size=1>NAME</font></th><th width=1% align=center bgcolor=#cccccc><font size=1>LENGTH</font></th><th width=58% align=center bgcolor=#cccccc><font size=1>VALUE</font></th></tr><tr><td align=center><font size=0>6</font></td><td align=center><font size=0>data</font></td><td align=center><font size=0>variable length</font></td><td style=white-space:pre><font size=0>Banary byte data array</font></td></tr></table><p><em>Example:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>→ 4A 30 01 01 03 00 0A 0B 0C      ;Send 3 bytes (0A 0B 0C) from gateway to node 0x0101
</span></span><span style=display:flex><span>← 4A 30 00 00 02 00 00 00         ;Local response
</span></span><span style=display:flex><span>← A4 A2 04 00 01 01 00 00         ;Transmission done event
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>→ 4A 30 00 10 03 00 0A 0B 0C      ;Send 3 bytes from node to gateway 0x1000
</span></span><span style=display:flex><span>← 4A 30 00 00 02 00 00 00         ;Local response
</span></span><span style=display:flex><span>← A4 A2 04 00 00 10 00 00         ;Transmission done event
</span></span></code></pre></div><h2 id=firmware-update-command-id0x40>Firmware Update command (ID=0x40)
<a class=anchor href=#firmware-update-command-id0x40>#</a></h2><p>This command initiates Firmware Update to module. For node, this command is local only, while for gateway it can be called locally or remotely. If remotely, node&rsquo;s firmware is updated over the air. Firmware Update consists of 3 processes, Prepare, Write, Cancel. Each process is composed of different data packet.</p><h3 id=prepare>Prepare
<a class=anchor href=#prepare>#</a></h3><p>The first process is to tell Node the firmware update over the air is going to begin, along with information including new firmware size, CRC verification, AES encryption etc.</p><p>The command is as follows:</p><table width=100% border=0><tr><th width=1% align=center bgcolor=#cccccc><font size=1>OFFSET</font></th><th width=15% align=center bgcolor=#cccccc><font size=1>NAME</font></th><th width=1% align=center bgcolor=#cccccc><font size=1>LENGTH</font></th><th width=58% align=center bgcolor=#cccccc><font size=1>VALUE</font></th></tr><tr><td align=center><font size=0>6</font></td><td align=center><font size=0>process</font></td><td align=center><font size=0>1</font></td><td><font size=0></font>0</td></tr><tr><td align=center><font size=0>7</font></td><td align=center><font size=0>firmware size</font></td><td align=center><font size=0>4</font></td><td><font size=0></font>firmware size</td></tr><tr><td align=center><font size=0>11</font></td><td align=center><font size=0>flag</font></td><td align=center><font size=0>1</font></td><td style=white-space:pre><font size=0>Each bit set to 1 indicates that the corresponding function is enabled.<br>bit 0: AES encryption<br>bit 4: CRC check<br>other: N/A</font></td></tr><tr><td align=center><font size=0>12</font></td><td align=center><font size=0>CRC</font></td><td align=center><font size=0>4</font></td><td><font size=0>CRC value of part of firmware binary excluding the first 16K bytes. If CRC check in flag is not set, it's ignored.</font></td></tr></table><p><em>Example:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>→ 4A 40 01 01 0A 00 00 20 1B 01 00 00 00 00 00 00      ;OTA prepare to node 0x0101, firmware size is 72,480 bytes, no CRC check and AES encryption
</span></span><span style=display:flex><span>← 4A 40 00 00 02 00 00 00                              ;Local response
</span></span><span style=display:flex><span>← A4 A2 00 00 04 00 01 01 00 00                        ;Transmission done event
</span></span><span style=display:flex><span>← 4A 40 01 01 02 00 00 00                              ;Remote response received from node 0x0101
</span></span></code></pre></div><h3 id=write>Write
<a class=anchor href=#write>#</a></h3><p>This process is called several times to do actual firmware data transmission until finished.</p><p>The data packet is as follows:</p><table width=100% border=0><tr><th width=1% align=center bgcolor=#cccccc><font size=1>OFFSET</font></th><th width=15% align=center bgcolor=#cccccc><font size=1>NAME</font></th><th width=1% align=center bgcolor=#cccccc><font size=1>LENGTH</font></th><th width=58% align=center bgcolor=#cccccc><font size=1>VALUE</font></th></tr><tr><td align=center><font size=0>6</font></td><td align=center><font size=0>process</font></td><td align=center><font size=0>1</font></td><td><font size=0></font>1</td></tr><tr><td align=center><font size=0>7</font></td><td align=center><font size=0>offset</font></td><td align=center><font size=0>4</font></td><td><font size=0></font>firmware offset</td></tr><tr><td align=center><font size=0>11</font></td><td align=center><font size=0>data</font></td><td align=center><font size=0>Len-7</font></td><td><font size=0></font>data length that follows</td></tr></table><p><em>Example:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>→ 4A 40 01 01 &lt;<span style=color:#ff79c6>len</span>&gt; 01 00 00 00 00 ...       ;OTA write firmware data to node 0x0101, offset is 0, size is &lt;<span style=color:#ff79c6>len</span>&gt; bytes
</span></span><span style=display:flex><span>← 4A 40 00 00 02 00 00 00                    ;Local response
</span></span><span style=display:flex><span>← A4 A2 00 00 04 00 01 01 00 00              ;Transmission done event
</span></span><span style=display:flex><span>← 4A 40 01 01 02 00 00 00                    ;Remote response (4A 0B 02 00 00 00) received from node 0x0101
</span></span></code></pre></div><h3 id=cancel>Cancel
<a class=anchor href=#cancel>#</a></h3><p>This command cancel any on-going OTA firmware update process.</p><table width=100% border=0><tr><th width=1% align=center bgcolor=#cccccc><font size=1>OFFSET</font></th><th width=15% align=center bgcolor=#cccccc><font size=1>NAME</font></th><th width=1% align=center bgcolor=#cccccc><font size=1>LENGTH</font></th><th width=58% align=center bgcolor=#cccccc><font size=1>VALUE</font></th></tr><tr><td align=center><font size=0>6</font></td><td align=center><font size=0>process</font></td><td align=center><font size=0>1</font></td><td><font size=0></font>0xFF</td></tr></table><p><em>Example:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>→ 4A 40 01 01 01 00 FF            ;OTA cancel firmware update to node 0x0101
</span></span><span style=display:flex><span>← 4A 40 00 00 02 00 00 00         ;Local response
</span></span><span style=display:flex><span>← A4 A2 04 00 01 01 00 00         ;Transmission done event
</span></span><span style=display:flex><span>← 4A 40 01 01 02 00 00 00         ;Remote response (4A 0B 02 00 00 00) received from node 0x0101
</span></span></code></pre></div><h1 id=response>Response
<a class=anchor href=#response>#</a></h1><p>A Response is the data packet returned by the module, indicates whether the command has been accepted or not. The body of Response is a fixed length of two bytes called Result, following the same header as the corresponding command. The Response can be local response sent by local module, or remote response sent by remote module, which is included in the data of the <a href=#data-reception-eventid0x67>Data Reception Event</a>. Both local response and remote response share the same data structure.</p><p>The available Result values are as follows:</p><table width=100% border=0><tr><th width=25% align=center bgcolor=#cccccc><font size=1>NAME</font></th><th width=15% align=center bgcolor=#cccccc><font size=1>VALUE</font></th><th width=60% align=center bgcolor=#cccccc><font size=1>MEANING</font></th></tr><tr><td align=center><font size=0>WL_ERR_NO_ERROR</font></td><td align=center><font size=0>0</font></td><td><font size=0>Success</font></td></tr><tr><td align=center><font size=0>WL_ERR_CMD</font></td><td align=center><font size=0>0x1001</font></td>0<td><font size=0>Sync Word in data head error</font></td></tr><tr><td align=center><font size=0>WL_ERR_CMD_ID</font></td><td align=center><font size=0>0x1002</font></td><td><font size=0>ID in data head error</font></td></tr><tr><td align=center><font size=0>WL_ERR_CMD_PARAM</font></td><td align=center><font size=0>0x1003</font></td><td><font size=0>Parameter error</font></td></tr><tr><td align=center><font size=0>WL_ERR_TIMEOUT</font></td><td align=center><font size=0>0x1004</font></td><td><font size=0>Command executing timeout</font></td></tr><tr><td align=center><font size=0>WL_ERR_BUSY</font></td><td align=center><font size=0>0x1005</font></td><td><font size=0>Command is not acceptable due to system busy</font></td></tr><tr><td align=center><font size=0>WL_ERR_NOT_READY</font></td><td align=center><font size=0>0x1006</font></td><td><font size=0>System is not ready of well configured</font></td></tr></table><h1 id=event-description>Event Description
<a class=anchor href=#event-description>#</a></h1><p>An Event is the data packet actively sent by the module to the HOST. Events have Sync Word 0xA4 in their data packet and unique event identifier follows. The format of the data packet is as follows.</p><br><table><thead><tr><th>Sync Word</th><th>ID</th><th>Body Len</th><th>Body</th></tr></thead><tbody><tr><td>(1 byte)</td><td>(1 byte)</td><td>(2 bytes)</td><td>(variable)</td></tr></tbody></table><p><em>Figure 1: Event data packet format</em></p><br><ul><li><p><strong>Sync Word:</strong> Fixed 0xA4.</p></li><li><p><strong>ID:</strong> unique event id.</p></li><li><p><strong>Body Len:</strong> is the length of variable body that follows.</p></li></ul><p>Here are details of MultiConnNet events:</p><h2 id=module-ready-event-id0xa0>Module Ready Event (ID=0xA0)
<a class=anchor href=#module-ready-event-id0xa0>#</a></h2><p>This event indicates system is ready to accept command from HOST. It has no body so the body len field is 0.</p><p><em>Example:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>← A4 A0 00 00
</span></span></code></pre></div><h2 id=connection-event-id0xa1>Connection Event (ID=0xA1)
<a class=anchor href=#connection-event-id0xa1>#</a></h2><p>This event indicates Gateway/Node has successfully connected or disconnected to each other.</p><table width=100% border=0><tr><th width=1% align=center bgcolor=#cccccc><font size=1>OFFSET</font></th><th width=15% align=center bgcolor=#cccccc><font size=1>NAME</font></th><th width=1% align=center bgcolor=#cccccc><font size=1>LENGTH</font></th><th width=58% align=center bgcolor=#cccccc><font size=1>VALUE</font></th></tr><tr><td align=center><font size=0>4</font></td><td align=center><font size=0>connection</font></td><td align=center><font size=0>1</font></td><td style=white-space:pre><font size=0>0: disconnect<br>1: connect</font></td></tr><tr><td align=center><font size=0>5</font></td><td align=center><font size=0>device address</font></td><td align=center><font size=0>2</font></td><td><font size=0>Remote device address</font></td></tr></table><p><em>Example:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>← A4 A1 03 00 01 00 01      ;Gateway has connected with node 0x0100
</span></span></code></pre></div><h2 id=transmission-done-event-id0xa2>Transmission Done Event (ID=0xA2)
<a class=anchor href=#transmission-done-event-id0xa2>#</a></h2><p>This event indicates data has been actually transmitted over the air.</p><table width=100% border=0><tr><th width=1% align=center bgcolor=#cccccc><font size=1>OFFSET</font></th><th width=15% align=center bgcolor=#cccccc><font size=1>NAME</font></th><th width=1% align=center bgcolor=#cccccc><font size=1>LENGTH</font></th><th width=58% align=center bgcolor=#cccccc><font size=1>VALUE</font></th></tr><tr><td align=center><font size=0>4</font></td><td align=center><font size=0>device address</font></td><td align=center><font size=0>2</font></td><td><font size=0>Remove device address</font></td></tr><tr><td align=center><font size=0>5</font></td><td align=center><font size=0>result</font></td><td align=center><font size=0>2</font></td><td style=white-space:pre><font size=0>Transmission result.<br>0 : success<br>other : protocol-level errors</font></td></tr></table><p><em>Example:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>← A4 A2 04 00 00 01 00 00           ;Gateway has transmitted data to node with device address 0x0100
</span></span></code></pre></div><h2 id=data-reception-event-id0xa3>Data Reception Event (ID=0xA3)
<a class=anchor href=#data-reception-event-id0xa3>#</a></h2><p>This event indicates data has been received from remote connected devices.</p><table width=100% border=0><tr><th width=1% align=center bgcolor=#cccccc><font size=1>OFFSET</font></th><th width=15% align=center bgcolor=#cccccc><font size=1>NAME</font></th><th width=1% align=center bgcolor=#cccccc><font size=1>LENGTH</font></th><th width=58% align=center bgcolor=#cccccc><font size=1>VALUE</font></th></tr><tr><td align=center><font size=0>4</font></td><td align=center><font size=0>device address</font></td><td align=center><font size=0>2</font></td><td><font size=0>Remote device address</font></td></tr><tr><td align=center><font size=0>6</font></td><td align=center><font size=0>data</font></td><td align=center><font size=0>Len-2</font></td><td><font size=0>Banary byte data array</font></td></tr></table><p><em>Example:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>← A4 A3 05 00 00 01 00 01 02      ;Gateway has received 3 bytes data from node 0x0100
</span></span></code></pre></div><h2 id=gpio-input-trigger-event-id0xa4>GPIO Input Trigger Event (ID=0xA4)
<a class=anchor href=#gpio-input-trigger-event-id0xa4>#</a></h2><p>This event indicates GPIO&rsquo;s input status is triggered, which is configured by <a href=#gpio-input-configurationid7>GPIO Input Configuration</a> command. This event can be sent to local HOST or remote devices, depending on device address parameter in event data body.</p><table width=100% border=0><tr><th width=1% align=center bgcolor=#cccccc><font size=1>OFFSET</font></th><th width=15% align=center bgcolor=#cccccc><font size=1>NAME</font></th><th width=1% align=center bgcolor=#cccccc><font size=1>LENGTH</font></th><th width=58% align=center bgcolor=#cccccc><font size=1>VALUE</font></th></tr><tr><td align=center><font size=0>4</font></td><td align=center><font size=0>device address</font></td><td align=center><font size=0>2</font></td><td><font size=0>Remote device address, or local if 0.</font></td></tr><tr><td align=center><font size=0>6</font></td><td align=center><font size=0>GPIO</font></td><td align=center><font size=0>1</font></td><td><font size=0>GPIO which input status is triggered. The upper 4 bits represent the Port, and the lower 4 bits represent the Pin. For example, for GPIO_0_4, it is 0x04.</font></td></tr><tr><td align=center><font size=0>7</font></td><td align=center><font size=0>level</font></td><td align=center><font size=0>1</font></td><td><font size=0>Current GPIO level</font></td></tr></table><p><em>Example:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>← A4 A4 04 00 01 01 04 00      ;Node 0x0101 GPIO_0_4 falling edge trigger
</span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ol><li><a href=#serial-port-configuration-id1>Serial Port Configuration (ID=1)</a></li><li><a href=#network-parameter-configuration-id2>Network Parameter Configuration (ID=2)</a></li><li><a href=#external-power-amplifier-control-configuration-id3>External Power Amplifier Control Configuration (ID=3)</a></li><li><a href=#get-state-id10>Get State (ID=10)</a></li><li><a href=#get-connection-id11>Get Connection (ID=11)</a></li><li><a href=#module-reset-id0x20>Module Reset (ID=0x20)</a></li><li><a href=#modue-run-id0x21>Modue Run (ID=0x21)</a></li><li><a href=#module-gpio-output-id0x22>Module GPIO Output (ID=0x22)</a></li><li><a href=#module-gpio-input-trigger-id0x23>Module GPIO Input Trigger (ID=0x23)</a></li><li><a href=#data-transmission-id0x30>Data Transmission (ID=0x30)</a></li><li><a href=#firmware-update-command-id0x40>Firmware Update command (ID=0x40)</a><ol><li><a href=#prepare>Prepare</a></li><li><a href=#write>Write</a></li><li><a href=#cancel>Cancel</a></li></ol></li></ol><ol><li><a href=#module-ready-event-id0xa0>Module Ready Event (ID=0xA0)</a></li><li><a href=#connection-event-id0xa1>Connection Event (ID=0xA1)</a></li><li><a href=#transmission-done-event-id0xa2>Transmission Done Event (ID=0xA2)</a></li><li><a href=#data-reception-event-id0xa3>Data Reception Event (ID=0xA3)</a></li><li><a href=#gpio-input-trigger-event-id0xa4>GPIO Input Trigger Event (ID=0xA4)</a></li></ol></nav></div></aside><script src=../../../js/fuse.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=../../../js/mark.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=../../../js/fastsearch.js crossorigin=anonymous referrerpolicy=no-referrer></script></main><footer class="bg-black bottom-0 w-100 pa3" style=position:fixed;bottom:0;width:100% role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" style=color:#000>&copy; Copyright 2025 InPlay Inc</a></div></footer></body></html>