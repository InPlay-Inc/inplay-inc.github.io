<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Trigger Routine Guide # Overview # Trigger is a mechanism that initiates specific operations or events. It can be implemented through hardware or software, converting external signals or events into actionable operations, such as activating sensors, controlling tasks, or initiating communication. Triggers are essential for the system to respond to external conditions and perform necessary actions.
Hardware Requirements # Hardware Project Name Project Path IN628E DK proj_drv_trig in-dev/proj/driver/proj_drv_trig Configuration # #define TRIG_QUEUE TRIG_HIGH_PRI_QUEUE //TRIG_LOW_PRI_QUEUE, TRIG_MID_PRI_QUEUE, TRIG_HIGH_PRI_QUEUE define the priority of trigger."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Trigger Routine Guide # Overview # Trigger is a mechanism that initiates specific operations or events. It can be implemented through hardware or software, converting external signals or events into actionable operations, such as activating sensors, controlling tasks, or initiating communication. Triggers are essential for the system to respond to external conditions and perform necessary actions.
Hardware Requirements # Hardware Project Name Project Path IN628E DK proj_drv_trig in-dev/proj/driver/proj_drv_trig Configuration # #define TRIG_QUEUE TRIG_HIGH_PRI_QUEUE //TRIG_LOW_PRI_QUEUE, TRIG_MID_PRI_QUEUE, TRIG_HIGH_PRI_QUEUE define the priority of trigger."><meta property="og:type" content="article"><meta property="og:url" content="/docs/in6xxe/samples/trigger-example-guide.html"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2024-01-26T16:11:01+08:00"><title>Trigger Example Guide | InPlay Doc</title>
<link rel=manifest href=../../../manifest.json><link rel=icon href=../../../favicon.png><link rel=stylesheet href=../../../book.min.7b5ca60448c7e874974d6d12156f89c2b32da59c25ae776b2522852d3ebb0865.css><script defer src=../../../flexsearch.min.js></script><script defer src=../../../en.search.min.d0abb7f9014407c4ea2603c834133a2c2a5275827a7313a07a5e7aaf631b5692.js></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=../../../><span>InPlay Doc</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><input type=checkbox id=section-ee8b8fb3a2ebd2cf7f56e1b840730602 class=toggle>
<label for=section-ee8b8fb3a2ebd2cf7f56e1b840730602 class="flex justify-between"><a role=button>IN100</a></label><ul></ul></li><li><input type=checkbox id=section-bd5f68ab31375c3fb33a394941d6e585 class=toggle checked>
<label for=section-bd5f68ab31375c3fb33a394941d6e585 class="flex justify-between"><a role=button>IN6XXE</a></label><ul><li><input type=checkbox id=section-f4c88fd95948aa7bec88207c9ca0e9ac class=toggle>
<label for=section-f4c88fd95948aa7bec88207c9ca0e9ac class="flex justify-between"><a href=../../../docs/in6xxe/api.html>API Doc</a></label><ul></ul></li><li><input type=checkbox id=section-1c0bfc5570fab374696eb1006b3098d0 class=toggle>
<label for=section-1c0bfc5570fab374696eb1006b3098d0 class="flex justify-between"><a role=button>Development Guide</a></label><ul><li><a href=../../../docs/in6xxe/development-guide/adc-guide.html>ADC Guide</a></li><li><a href=../../../docs/in6xxe/development-guide/counter-development-guide.html>Counter Guide</a></li><li><a href=../../../docs/in6xxe/development-guide/gpio-guide.html>GPIO Guide</a></li><li><a href=../../../docs/in6xxe/development-guide/trigger-handler-guide.html>NanoSync Engine Guide</a></li><li><a href=../../../docs/in6xxe/development-guide/advanced-timer-guide.html>NanoSync Timer Guide</a></li><li><a href=../../../docs/in6xxe/development-guide/run-zephyr-on-in6xxe.html>Run Zephyr on IN6XXE</a></li></ul></li><li><input type=checkbox id=section-10a602a2afbac6b637ea6cafedc74c08 class=toggle>
<label for=section-10a602a2afbac6b637ea6cafedc74c08 class="flex justify-between"><a role=button>Getting Started</a></label><ul><li><a href=../../../docs/in6xxe/getting-started/rtt-viewer-guide.html>Rtt Viewer Guide</a></li><li><a href=../../../docs/in6xxe/getting-started/inplay-ble5.0-at-command-set.html>BLE5.0 AT Command Set</a></li><li><a href=../../../docs/in6xxe/getting-started/hci_command.html>HCI Command</a></li><li><a href=../../../docs/in6xxe/getting-started/introduction-to-in6xxe-dk.html>Introduction to IN6XXE DK</a></li><li><a href=../../../docs/in6xxe/getting-started/jflash-download-guide.html>JFlash Programming</a></li><li><a href=../../../docs/in6xxe/getting-started/quick-start-with-gcc.html>Quick Start with GCC</a></li><li><a href=../../../docs/in6xxe/getting-started/inplay-smull-development-guide.html>SMULL Command Set</a></li></ul></li><li><input type=checkbox id=section-9e1ce79bb040fc816033651173835259 class=toggle checked>
<label for=section-9e1ce79bb040fc816033651173835259 class="flex justify-between"><a role=button>Samples</a></label><ul><li><a href=../../../docs/in6xxe/samples/adc-example-guide.html>Adc Example Guide</a></li><li><a href=../../../docs/in6xxe/samples/aes-example-guide.html>AES Example Guide</a></li><li><a href=../../../docs/in6xxe/samples/ble-advertising-example-guide.html>Ble Advertising Example Guide</a></li><li><a href=../../../docs/in6xxe/samples/ble-initiation-example-guide.html>Ble Initiation Example Guide</a></li><li><a href=../../../docs/in6xxe/samples/ble-scan-example-guide.html>Ble Scan Example Guide</a></li><li><a href=../../../docs/in6xxe/samples/ble-transparent-transmission-example-guide.html>Ble Transparent Transmission Example Guide</a></li><li><a href=../../../docs/in6xxe/samples/debug-routine-guide.html>Debug Routine Guide</a></li><li><a href=../../../docs/in6xxe/samples/ecc-example-guide.html>Ecc Example Guide</a></li><li><a href=../../../docs/in6xxe/samples/gpio-example-guide.html>Gpio Example Guide</a></li><li><a href=../../../docs/in6xxe/samples/gpio-interrupt-example-guide.html>Gpio Interrupt Example Guide</a></li><li><a href=../../../docs/in6xxe/samples/gpio-reset-example-guide.html>Gpio Reset Example Guide</a></li><li><a href=../../../docs/in6xxe/samples/gpio-wake-example-guide.html>Gpio Wake Example Guide</a></li><li><a href=../../../docs/in6xxe/samples/gpio-wake-up-interrupt-example-guide.html>Gpio Wake Up Interrupt Example Guide</a></li><li><a href=../../../docs/in6xxe/samples/i2c-example-guide.html>I2 C Example Guide</a></li><li><a href=../../../docs/in6xxe/samples/keyboard-example-guide.html>Keyboard Example Guide</a></li><li><a href=../../../docs/in6xxe/samples/pwm-example-guide.html>Pwm Example Guide</a></li><li><a href=../../../docs/in6xxe/samples/qdec-routine-guide.html>Qdec Routine Guide</a></li><li><a href=../../../docs/in6xxe/samples/timer-routine-guide.html>Timer Routine Guide</a></li><li><a href=../../../docs/in6xxe/samples/trigger-example-guide.html class=active>Trigger Example Guide</a></li><li><a href=../../../docs/in6xxe/samples/uart-routine-guide.html>Uart Routine Guide</a></li></ul></li><li><a href=../../../docs/in6xxe/quick-start.html>Quick Start</a></li></ul></li><li><input type=checkbox id=section-0bc0ac0bfec6b1ae25463138a2ae299e class=toggle>
<label for=section-0bc0ac0bfec6b1ae25463138a2ae299e class="flex justify-between"><a role=button>Solutions</a></label><ul><li><input type=checkbox id=section-15c87bcd4d931f9a897cb9565047755d class=toggle>
<label for=section-15c87bcd4d931f9a897cb9565047755d class="flex justify-between"><a role=button>Modbus</a></label><ul><li><a href=../../../docs/solutions/modbus/wireless-modbus-demo-guide.html>Wireless Modbus Demo Guide</a></li><li><a href=../../../docs/solutions/modbus/wireless-modbus-module.html>Wireless Modbus Module</a></li></ul></li><li><input type=checkbox id=section-3c853b7573728b720bb9f6d05f87354b class=toggle>
<label for=section-3c853b7573728b720bb9f6d05f87354b class="flex justify-between"><a role=button>Stellar</a></label><ul><li><a href=../../../docs/solutions/stellar/stellar-gateway-wireless-communication-protocol-implementation-guide.html>Wireless Communication Protocol</a></li></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=../../../svg/menu.svg class=book-icon alt=Menu>
</label><strong>Trigger Example Guide</strong>
<label for=toc-control><img src=../../../svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ol><li><a href=#overview>Overview</a></li><li><a href=#hardware-requirements>Hardware Requirements</a></li><li><a href=#configuration>Configuration</a></li><li><a href=#building>Building</a></li><li><a href=#debug>Debug</a></li><li><a href=#test-steps>Test Steps</a></li></ol></nav></aside></header><article class=markdown><h1 id=trigger-routine-guide>Trigger Routine Guide
<a class=anchor href=#trigger-routine-guide>#</a></h1><h2 id=overview>Overview
<a class=anchor href=#overview>#</a></h2><p>Trigger is a mechanism that initiates specific operations or events. It can be implemented through hardware or software, converting external signals or events into actionable operations, such as activating sensors, controlling tasks, or initiating communication. Triggers are essential for the system to respond to external conditions and perform necessary actions.</p><h2 id=hardware-requirements>Hardware Requirements
<a class=anchor href=#hardware-requirements>#</a></h2><table><thead><tr><th>Hardware</th><th>Project Name</th><th>Project Path</th></tr></thead><tbody><tr><td>IN628E DK</td><td>proj_drv_trig</td><td>in-dev/proj/driver/proj_drv_trig</td></tr></tbody></table><h2 id=configuration>Configuration
<a class=anchor href=#configuration>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#ff79c6>#define TRIG_QUEUE TRIG_HIGH_PRI_QUEUE </span><span style=color:#6272a4>//TRIG_LOW_PRI_QUEUE, TRIG_MID_PRI_QUEUE, TRIG_HIGH_PRI_QUEUE
</span></span></span></code></pre></div><p>define the priority of trigger. Three types of priority can be chosen, TRIG_LOW_PRI_QUEUE, TRIG_MID_PRI_QUEUE, TRIG_HIGH_PRI_QUEUE.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#ff79c6>#define OUTPUT_PORT 0
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>#define OUTPUT_PIN 1
</span></span></span></code></pre></div><p>define the output pin.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#ff79c6>#define TIRG_COND_PORT 0
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>#define TIRG_COND_PIN 3
</span></span></span></code></pre></div><p>define the trigger condition pin.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#ff79c6>#define DEBUG_PORT 0
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>#define DEBUG_PIN 4
</span></span></span></code></pre></div><p>define the debug pin.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#ff79c6>#define TEST_OUTPUT_CMD 0 </span><span style=color:#6272a4>//test output
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#ff79c6>#define TEST_REG_WR_CMD 0 </span><span style=color:#6272a4>//test register write
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#ff79c6>#define TEST_TIMER_CMD 1 </span><span style=color:#6272a4>//test set timer and wait timer
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#ff79c6>#define TEST_REG_CP_CMD 0 </span><span style=color:#6272a4>//test compare the value in register
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#ff79c6>#define TEST_REG_MASK_CP_CMD 0 </span><span style=color:#6272a4>//test mask compare the value in register
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#ff79c6>#define TEST_REG_RW_CMD 0 </span><span style=color:#6272a4>//test register read and write
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#ff79c6>#define TEST_RD_CMP_CMD_WAIT 0 </span><span style=color:#6272a4>// //test read and compare the value in register(wait)
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#ff79c6>#define TEST_RD_CMP_CMD_NO_WAIT 0 </span><span style=color:#6272a4>//test read and compare the value in register(not wait)
</span></span></span></code></pre></div><p>Change the operation mode.</p><h2 id=building>Building
<a class=anchor href=#building>#</a></h2><p>To build the sample with keil, follow the steps listed on the <a href=https://inplay-inc.github.io/docs/in6xxe/quick-start.html>quick start</a> page in the IN6xxE of Inplay Doc. You may be able to solve questions on that webpage.</p><h2 id=debug>Debug
<a class=anchor href=#debug>#</a></h2><p>We can get the trigger interrupt status on UART log.</p><ul><li><p><strong>TEST_OUTPUT_CMD</strong></p><p>When TRIG_CON_PIN experiences a rising edge or a falling edge, it will output a high or low voltage level on the output pin based on whether it&rsquo;s a rising or falling edge.</p></li><li><p><strong>TEST_REG_WR_CMD</strong></p><p>When TRIG_CON_PIN experiences a rising edge or a falling edge, value set will be written to register.</p></li><li><p><strong>TEST_TIMER_CMD</strong>
When TRIG_CON_PIN experiences a rising edge or a falling edge, timer will be set, start and then stop.</p></li><li><p><strong>TEST_REG_CP_CMD</strong>
When TRIG_CON_PIN experiences a rising edge or a falling edge, copy 4 bytes from source address to destination address.</p></li><li><p><strong>TEST_REG_MASK_CP_CMD</strong>
When TRIG_CON_PIN experiences a rising edge or a falling edge, copy 4 bytes from source address to destination address with mask.</p></li><li><p><strong>TEST_REG_RW_CMD</strong></p><p>When TRIG_CON_PIN experiences a rising edge or a falling edge, read and write the register.</p></li><li><p><strong>TEST_RD_CMP_CMD_WAIT</strong></p><p>When TRIG_CON_PIN experiences a rising edge or a falling edge, compare the value in register with the expected value.</p></li><li><p><strong>TEST_RD_CMP_CMD_NO_WAIT</strong></p><p>When TRIG_CON_PIN experiences a rising edge or a falling edge, compare the value in register with the expected value.</p></li></ul><p>More information may be found in <a href=https://inplay-inc.github.io/docs/in6xxe/samples/Debug-Guide>debug guide</a> page.</p><p>​</p><h2 id=test-steps>Test Steps
<a class=anchor href=#test-steps>#</a></h2><ol><li>Open Keil and select the desired functionality, then download proj_drv_trig.</li><li>Press the K1 button and observe the text &ldquo;main start&rdquo; appearing in the log.</li><li>When the trigger pin is triggered, you will see something like &ldquo;irq 0x5&rdquo; in Figure 1-1, where 5 represents the status. At the same time, the corresponding functionality will be implemented based on the selected option.</li></ol></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ol><li><a href=#overview>Overview</a></li><li><a href=#hardware-requirements>Hardware Requirements</a></li><li><a href=#configuration>Configuration</a></li><li><a href=#building>Building</a></li><li><a href=#debug>Debug</a></li><li><a href=#test-steps>Test Steps</a></li></ol></nav></div></aside><script src=../../../js/fuse.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=../../../js/mark.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=../../../js/fastsearch.js crossorigin=anonymous referrerpolicy=no-referrer></script></main><footer class="bg-black bottom-0 w-100 pa3" style=position:fixed;bottom:0;width:100% role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" style=color:#000>&copy; Copyright 2024 InPlay Inc</a></div></footer></body></html>