<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Inplay BLE 5.0 AT Command Set # INTRODUCTION # Inplay IN6xx BLE module is a standard Bluetooth Low Energy (BLE) 5.0 certified RF module. It introduces a private service as interface of data streaming between two BLE devices transparently.
IN6xx BLE module provides the control interface based on ASCII commands, say AT commands. They are used to configure parameters, retrieve module state, control actions of module, etc. All configuration changes can be optionally remained in Non-Volatile Memory (Flash) and survive the following power cycle."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:title" content="BLE5.0 AT Command Set"><meta property="og:description" content="Inplay BLE 5.0 AT Command Set # INTRODUCTION # Inplay IN6xx BLE module is a standard Bluetooth Low Energy (BLE) 5.0 certified RF module. It introduces a private service as interface of data streaming between two BLE devices transparently.
IN6xx BLE module provides the control interface based on ASCII commands, say AT commands. They are used to configure parameters, retrieve module state, control actions of module, etc. All configuration changes can be optionally remained in Non-Volatile Memory (Flash) and survive the following power cycle."><meta property="og:type" content="article"><meta property="og:url" content="/docs/in6xxe/protocols/ble/inplay-ble5.0-at-command-set.html"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2024-04-23T16:29:03+08:00"><title>BLE5.0 AT Command Set | InPlay Doc</title>
<link rel=manifest href=../../../../manifest.json><link rel=icon href=../../../../favicon.png><link rel=stylesheet href=../../../../book.min.7b5ca60448c7e874974d6d12156f89c2b32da59c25ae776b2522852d3ebb0865.css><script defer src=../../../../flexsearch.min.js></script><script defer src=../../../../en.search.min.d86e781a0380939867b7b705f7ca6894fcbebbbe54e0d634ab62d7839305f8e9.js></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=../../../../><span>InPlay Doc</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><input type=checkbox id=section-ee8b8fb3a2ebd2cf7f56e1b840730602 class=toggle>
<label for=section-ee8b8fb3a2ebd2cf7f56e1b840730602 class="flex justify-between"><a role=button>IN100</a></label><ul></ul></li><li><span>IN6XXE</span><ul><li><input type=checkbox id=section-10a602a2afbac6b637ea6cafedc74c08 class=toggle>
<label for=section-10a602a2afbac6b637ea6cafedc74c08 class="flex justify-between"><a role=button>Getting Started</a></label><ul><li><input type=checkbox id=section-c0533e207424bbd85c1ed5e367c68a38 class=toggle>
<label for=section-c0533e207424bbd85c1ed5e367c68a38 class="flex justify-between"><a role=button>Installation</a></label><ul><li><a href=../../../../docs/in6xxe/getting-started/installation/quick-start.html>Quick Start</a></li><li><a href=../../../../docs/in6xxe/getting-started/installation/quick-start-with-gcc.html>Quick Start with GCC</a></li><li><a href=../../../../docs/in6xxe/getting-started/installation/run-zephyr-on-in6xxe.html>Run Zephyr on IN6XXE</a></li></ul></li><li><input type=checkbox id=section-4ee5b2397a599e035459a043e9269243 class=toggle>
<label for=section-4ee5b2397a599e035459a043e9269243 class="flex justify-between"><a role=button>Configration and Building</a></label><ul></ul></li><li><input type=checkbox id=section-0fcab4eb5e7d4aac163677313b48ef9d class=toggle>
<label for=section-0fcab4eb5e7d4aac163677313b48ef9d class="flex justify-between"><a role=button>Download Image</a></label><ul><li><a href=../../../../docs/in6xxe/getting-started/download/jflash-download-guide.html>JFlash Programming</a></li></ul></li><li><input type=checkbox id=section-620480f69a74c9672be0a1ecdaca3f9a class=toggle>
<label for=section-620480f69a74c9672be0a1ecdaca3f9a class="flex justify-between"><a role=button>Testing and Debuging</a></label><ul><li><a href=../../../../docs/in6xxe/getting-started/testing/rtt-viewer-guide.html>Rtt Viewer Guide</a></li><li><a href=../../../../docs/in6xxe/getting-started/testing/debug-guide.html>Debug Guide</a></li><li><a href=../../../../docs/in6xxe/getting-started/testing/hci_command.html>HCI Command</a></li></ul></li></ul></li><li><input type=checkbox id=section-4dc2b54336baac6b7cb501b916136e6f class=toggle>
<label for=section-4dc2b54336baac6b7cb501b916136e6f class="flex justify-between"><a role=button>Driver</a></label><ul><li><a href=../../../../docs/in6xxe/driver/adc-guide.html>ADC Guide</a></li><li><a href=../../../../docs/in6xxe/driver/counter-development-guide.html>Counter Guide</a></li><li><a href=../../../../docs/in6xxe/driver/crc-guide.html>CRC Guide</a></li><li><a href=../../../../docs/in6xxe/driver/gpio-guide.html>GPIO Guide</a></li><li><a href=../../../../docs/in6xxe/driver/trigger-handler-guide.html>NanoSync Engine Guide</a></li><li><a href=../../../../docs/in6xxe/driver/advanced-timer-guide.html>NanoSync Timer Guide</a></li><li><a href=../../../../docs/in6xxe/driver/spi-guide.html>SPI Guide</a></li></ul></li><li><input type=checkbox id=section-dc522968fc449d7f5e8aeb18e1838a60 class=toggle checked>
<label for=section-dc522968fc449d7f5e8aeb18e1838a60 class="flex justify-between"><a role=button>Protocols</a></label><ul><li><input type=checkbox id=section-f82f3ce52eaabf4f57482ebc1bb2c721 class=toggle checked>
<label for=section-f82f3ce52eaabf4f57482ebc1bb2c721 class="flex justify-between"><a role=button>BLE</a></label><ul><li><a href=../../../../docs/in6xxe/protocols/ble/inplay-ble5.0-at-command-set.html class=active>BLE5.0 AT Command Set</a></li></ul></li><li><input type=checkbox id=section-e27ddfc30d04c73b55930022be0b6500 class=toggle>
<label for=section-e27ddfc30d04c73b55930022be0b6500 class="flex justify-between"><a role=button>SMULL</a></label><ul><li><a href=../../../../docs/in6xxe/protocols/smull/inplay-smull-development-guide.html>SMULL Command Set</a></li></ul></li><li><input type=checkbox id=section-fe1852371a417d0950eb037c84d9dca0 class=toggle>
<label for=section-fe1852371a417d0950eb037c84d9dca0 class="flex justify-between"><a role=button>SDR</a></label><ul></ul></li></ul></li><li><input type=checkbox id=section-9e1ce79bb040fc816033651173835259 class=toggle>
<label for=section-9e1ce79bb040fc816033651173835259 class="flex justify-between"><a role=button>Samples</a></label><ul><li><a href=../../../../docs/in6xxe/samples/debug-reference.html>Debug Reference</a></li><li><input type=checkbox id=section-245df222a9780ce5c0bedd44ab6cfd70 class=toggle>
<label for=section-245df222a9780ce5c0bedd44ab6cfd70 class="flex justify-between"><a role=button>Driver</a></label><ul><li><a href=../../../../docs/in6xxe/samples/driver/adc-sample.html>ADC Sample</a></li><li><a href=../../../../docs/in6xxe/samples/driver/aes-sample.html>AES Sample</a></li><li><a href=../../../../docs/in6xxe/samples/driver/ecc-sample.html>ECC Sample</a></li><li><a href=../../../../docs/in6xxe/samples/driver/gpio-interrupt-sample.html>GPIO Interrupt Sample</a></li><li><a href=../../../../docs/in6xxe/samples/driver/gpio-reset-sample.html>GPIO Reset Sample</a></li><li><a href=../../../../docs/in6xxe/samples/driver/gpio-sample.html>GPIO Sample</a></li><li><a href=../../../../docs/in6xxe/samples/driver/gpio-wake-interrupt-sample.html>GPIO Wake Interrupt Sample</a></li><li><a href=../../../../docs/in6xxe/samples/driver/gpio-wake-sample.html>GPIO Wake Sample</a></li><li><a href=../../../../docs/in6xxe/samples/driver/i2c-sample.html>I2C Sample</a></li><li><a href=../../../../docs/in6xxe/samples/driver/keyboard-sample.html>Keyboard Sample</a></li><li><a href=../../../../docs/in6xxe/samples/driver/pwm-sample.html>PWM Sample</a></li><li><a href=../../../../docs/in6xxe/samples/driver/qdec-sample.html>QDEC Sample</a></li><li><a href=../../../../docs/in6xxe/samples/driver/spi-sample.html>SPI Sample</a></li><li><a href=../../../../docs/in6xxe/samples/driver/timer-sample.html>Timer Sample</a></li><li><a href=../../../../docs/in6xxe/samples/driver/trigger-example-guide.html>Trigger Sample</a></li><li><a href=../../../../docs/in6xxe/samples/driver/uart-routine-guide.html>UART Sample</a></li></ul></li><li><input type=checkbox id=section-4496cc567a5e21256aaf453b1a90c31a class=toggle>
<label for=section-4496cc567a5e21256aaf453b1a90c31a class="flex justify-between"><a role=button>Misc</a></label><ul><li><a href=../../../../docs/in6xxe/samples/misc/hci-sample.html>HCI Sample</a></li></ul></li><li><input type=checkbox id=section-2817ec800ee8f383d54444e27f3e9cd2 class=toggle>
<label for=section-2817ec800ee8f383d54444e27f3e9cd2 class="flex justify-between"><a role=button>BLE</a></label><ul><li><a href=../../../../docs/in6xxe/samples/ble/ble-advertising-sample.html>BLE advertising Sample</a></li><li><a href=../../../../docs/in6xxe/samples/ble/ble-gatt-sample.html>BLE GATT Sample</a></li><li><a href=../../../../docs/in6xxe/samples/ble/ble-initiation-sample.html>BLE Initiation Sample</a></li><li><a href=../../../../docs/in6xxe/samples/ble/ble-scan-sample.html>BLE Scan Sample</a></li><li><a href=../../../../docs/in6xxe/samples/ble/ble-transparent-transmission-sample.html>BLE Transparent Transmission Sample</a></li></ul></li><li><input type=checkbox id=section-62d0151e15621d9b15221db1b60d3e19 class=toggle>
<label for=section-62d0151e15621d9b15221db1b60d3e19 class="flex justify-between"><a role=button>SDR</a></label><ul><li><a href=../../../../docs/in6xxe/samples/sdr/sdr-1-master-to-multiple-slave-sample.html>SDR 1 to n Sample</a></li><li><a href=../../../../docs/in6xxe/samples/sdr/sdr-broadcast-sample-.html>SDR Broadcast Sample</a></li></ul></li></ul></li><li><input type=checkbox id=section-f4c88fd95948aa7bec88207c9ca0e9ac class=toggle>
<label for=section-f4c88fd95948aa7bec88207c9ca0e9ac class="flex justify-between"><a href=../../../../docs/in6xxe/api.html>API Document</a></label><ul></ul></li><li><input type=checkbox id=section-ecb777ba06679db84f6d08dc316cb5b2 class=toggle>
<label for=section-ecb777ba06679db84f6d08dc316cb5b2 class="flex justify-between"><a role=button>Development Kits</a></label><ul><li><a href=../../../../docs/in6xxe/dk/introduction-to-in6xxe-dk.html>Introduction to IN6XXE DK</a></li></ul></li></ul></li><li><input type=checkbox id=section-0bc0ac0bfec6b1ae25463138a2ae299e class=toggle>
<label for=section-0bc0ac0bfec6b1ae25463138a2ae299e class="flex justify-between"><a role=button>Solutions</a></label><ul><li><input type=checkbox id=section-afc3c4284a3a81612ced6ce66dbe01d3 class=toggle>
<label for=section-afc3c4284a3a81612ced6ce66dbe01d3 class="flex justify-between"><a role=button>SMULL Pass-through Network</a></label><ul><li><a href=../../../../docs/solutions/smull/inplay-smull-development-guide.html>SMULL Command Set</a></li></ul></li><li><input type=checkbox id=section-3c853b7573728b720bb9f6d05f87354b class=toggle>
<label for=section-3c853b7573728b720bb9f6d05f87354b class="flex justify-between"><a role=button>Stellar</a></label><ul><li><a href=../../../../docs/solutions/stellar/stellar-gateway-wireless-communication-protocol-implementation-guide.html>Wireless Communication Protocol</a></li></ul></li><li><input type=checkbox id=section-15c87bcd4d931f9a897cb9565047755d class=toggle>
<label for=section-15c87bcd4d931f9a897cb9565047755d class="flex justify-between"><a role=button>Wireless Modbus Network</a></label><ul><li><a href=../../../../docs/solutions/modbus/wireless-modbus-demo-guide.html>Wireless Modbus Demo Guide</a></li><li><a href=../../../../docs/solutions/modbus/wireless-modbus-module.html>Wireless Modbus Module</a></li></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=../../../../svg/menu.svg class=book-icon alt=Menu>
</label><strong>BLE5.0 AT Command Set</strong>
<label for=toc-control><img src=../../../../svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ol><li><a href=#introduction>INTRODUCTION</a></li><li><a href=#control-interface>CONTROL INTERFACE</a></li><li><a href=#syntax>SYNTAX</a><ol><li><a href=#command-syntax><strong>COMMAND SYNTAX</strong></a></li><li><a href=#response-syntax><strong>RESPONSE SYNTAX</strong></a></li><li><a href=#event-syntax><strong>EVENT SYNTAX</strong></a></li><li><a href=#parameter-value><strong>PARAMETER VALUE</strong></a></li><li><a href=#examples><strong>EXAMPLES</strong></a></li></ol></li><li><a href=#command-reference>COMMAND REFERENCE</a><ol><li><a href=#get-module-state><strong>Get Module State</strong></a></li><li><a href=#get-version><strong>Get Version</strong></a></li><li><a href=#uart-configuration><strong>UART Configuration</strong></a></li><li><a href=#device-general-configuration><strong>Device General Configuration</strong></a></li><li><a href=#data-transparent-transmission-service-configuration><strong>Data Transparent Transmission Service Configuration</strong></a></li><li><a href=#data-transparent-transmission-client-configuration><strong>Data Transparent Transmission Client Configuration</strong></a></li><li><a href=#rf-configuration><strong>RF Configuration</strong></a></li><li><a href=#smp-configuration><strong>SMP Configuration</strong></a></li><li><a href=#target-device-configuration><strong>Target Device Configuration</strong></a></li><li><a href=#advertising-activity-configuration><strong>Advertising Activity Configuration</strong></a></li><li><a href=#scan-activity-configuration><strong>Scan Activity Configuration</strong></a></li><li><a href=#initiating-activity-configuration><strong>Initiating Activity Configuration</strong></a></li><li><a href=#start-advertising-activity><strong>Start Advertising Activity</strong></a></li><li><a href=#start-scan-activity><strong>Start Scan Activity</strong></a></li><li><a href=#start-initiating-activity><strong>Start Initiating Activity</strong></a></li><li><a href=#get-current-connection-list><strong>Get current connection list</strong></a></li><li><a href=#start-pairing><strong>Start Pairing</strong></a></li><li><a href=#data-transmit><strong>Data Transmit</strong></a></li><li><a href=#reset><strong>Reset</strong></a></li><li><a href=#watchdog><strong>Watchdog</strong></a></li></ol></li><li><a href=#event-reference>EVENT REFERENCE</a><ol><li><a href=#-evtready><strong>-EVTREADY</strong></a></li><li><a href=#-evtconn><strong>-EVTCONN</strong></a></li><li><a href=#-evtdata><strong>-EVTDATA</strong></a></li><li><a href=#-evtadv><strong>-EVTADV</strong></a></li><li><a href=#-evtactvend><strong>-EVTACTVEND</strong></a></li></ol></li><li><a href=#error-code>ERROR CODE</a></li></ol></nav></aside></header><article class=markdown><h1 id=inplay-ble-50-at-command-set>Inplay BLE 5.0 AT Command Set
<a class=anchor href=#inplay-ble-50-at-command-set>#</a></h1><hr><h2 id=introduction>INTRODUCTION
<a class=anchor href=#introduction>#</a></h2><p>Inplay IN6xx BLE module is a standard Bluetooth Low Energy (BLE) 5.0 certified RF module. It introduces a private service as interface of data streaming between two BLE devices transparently.</p><p>IN6xx BLE module provides the control interface based on ASCII commands, say AT commands. They are used to configure parameters, retrieve module state, control actions of module, etc. All configuration changes can be optionally remained in Non-Volatile Memory (Flash) and survive the following power cycle.</p><h2 id=control-interface>CONTROL INTERFACE
<a class=anchor href=#control-interface>#</a></h2><p>The AT commands are transmitted over standard UART interface. A terminal emulator, such as TeraTerm (Windows) or CoolTerm (Mac OS-X®), can be used to control the module from a computer, with the following default port settings:</p><ul><li>115,200 bps</li><li>8 bits</li><li>No Parity</li><li>1 Stop bit</li><li>Hardware flow control disabled</li></ul><p>The <a href=#uartcfg>serial port parameter configure</a> command can modify the UART settings permanently.</p><h2 id=syntax>SYNTAX
<a class=anchor href=#syntax>#</a></h2><p>The AT commands can be divided into 3 main categories: Command, Response and Event. The module receives Command and, after execution, sends back Response to the command initiator. When something happens in the module, such as an unexpected disconnection, receiving data from a remote device, etc., a corresponding Event is sent.</p><h3 id=command-syntax><strong>COMMAND SYNTAX</strong>
<a class=anchor href=#command-syntax>#</a></h3><p>An AT command is composed of the Prefix, CommandID, CommandBody and Terminator as shown below.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>                AT+&lt;<span style=color:#ff79c6>CommandID</span>&gt;=&lt;<span style=color:#ff79c6>CommandBody</span>&gt;&lt;<span style=color:#ff79c6>Terminator</span>&gt;
</span></span></code></pre></div><p>The Prefix of each command is fixed ASCII string &ldquo;AT&rdquo; or &ldquo;at&rdquo;.</p><p>CommandID is an ASCII string representing different command. It&rsquo;s case sensitive.</p><p>CommandBody can be either ASCII &lsquo;?&rsquo; if the command <em>gets</em> a parameter or parameters set if the command <em>sets</em> parameter. A parameter set is a collection of parameters surrounded by &lsquo;[]&rsquo;, each separated by &lsquo;,&rsquo;.</p><p>Terminator of each command is carriage return (CR, &lsquo;\r&rsquo;, \x0d) and line feed (LF, &lsquo;\n&rsquo;, \x0a). Command is accepted and executed only when the Terminator is received.</p><h3 id=response-syntax><strong>RESPONSE SYNTAX</strong>
<a class=anchor href=#response-syntax>#</a></h3><p>After an AT command is executed, a response will be sent back. Response consists of corresponding CommandID, ResponseBody and Terminator as shown below.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>                +&lt;<span style=color:#ff79c6>CommandID</span>&gt;=&lt;<span style=color:#ff79c6>ResponseBody</span>&gt;&lt;<span style=color:#ff79c6>Terminator</span>&gt;
</span></span></code></pre></div><p>If command is to <em>set</em> parameter, the ResponseBody is either parameter set read or just a numerical error result code. The format of the read parameter set is same as the format of the <em>set</em> parameters of the corresponding command. Only result code is returned for <em>set</em> parameter commands.</p><h3 id=event-syntax><strong>EVENT SYNTAX</strong>
<a class=anchor href=#event-syntax>#</a></h3><p>An event is a message reported by the module initiatively, rather than a response obtained through the AT command. An event consists of EventID, EventBody and Terminator as shown in below.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>                +&lt;<span style=color:#ff79c6>EventID</span>&gt;=&lt;<span style=color:#ff79c6>EventBody</span>&gt;&lt;<span style=color:#ff79c6>Terminator</span>&gt;
</span></span></code></pre></div><p>EventID is an ASCII string representing different event. It&rsquo;s case sensitive. EventBody is a parameter set and its format is same as CommandBody in AT command. Terminator is same as that in AT command response.</p><h3 id=parameter-value><strong>PARAMETER VALUE</strong>
<a class=anchor href=#parameter-value>#</a></h3><p>Parameter in parameter set supports numeric values, strings. There are three format of string: ASCII format string, Byte Array format string and Base64 encoding format string.</p><h3 id=examples><strong>EXAMPLES</strong>
<a class=anchor href=#examples>#</a></h3><p>The below table lists some examples of AT commands and their responses and events.</p><table width=100% border=1><tr><th width=33% align=center bgcolor=#cccccc>Command/Event</th><th width=33% align=center bgcolor=#cccccc>Function</th><th width=52% align=center bgcolor=#cccccc>Response</th></tr><tr><td><font size=0>AT+DEVCFG=[10,"112222222211",0,"Slave",1]</font></td><td><font size=0>Set device general configuration</font></td><td><font size=0>+DEVCFG=0000H</font></td></tr><tr><td><font size=0>AT+DEVCFG=?</font></td><td><font size=0>Get device general configuration</font></td><td><font size=0>+DEVCFG=[10,"112222222211",0,"Slave",1]</font></td></tr><tr><td><font size=0>AT+CFGADVACTV=[1,0,1,500,0,"BwlJbnBsYXk="]</font></td><td><font size=0>Create legacy connectable advertising in 500ms interval. The payload is local name "Inplay"</font></td><td><font size=0>+CFGADVACTV=0000H: successful<br>+CFGADVACTV=0043H: error advertising can't be create</font></td></tr><tr><td><font size=0>-EVTCONN=[1,"EFBBCCCCDDEF",1,1]</font></td><td><font size=0>Connected with device "EF:DD:CC:CC:BB:EF" on 1M PHY</font></td><td><font size=0></font></td></tr></table><h2 id=command-reference>COMMAND REFERENCE
<a class=anchor href=#command-reference>#</a></h2><p>This section describes AT commands in detail and provides examples. Those parameter surrounded by &lsquo;&lt;>&rsquo; brackets are optional in some cases. If an optional parameter needs to be set, all optional parameters prior to that optional parameter must also be provided.</p><p>Since the responseBody of the response returned by the <em>get</em> command is the same as the CommandBody of the corresponding <em>set</em> command, for simplicity, only the format of the <em>get</em> command is listed.</p><ol><li><h3 id=get-module-state><strong>Get Module State</strong>
<a class=anchor href=#get-module-state>#</a></h3></li></ol><p>This command <em>gets</em> the current status of the module.</p><p>Command: <span style=color:blue><strong>AT+STATE=?</strong></span></p><p>Response: <span style=color:blue><strong>+STATE=[sys_state,pair_state,conn_state,scan_state,adv_state]</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>sys_state</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Not ready;<br>1: Ready</font></td></tr><tr><td><font size=0>pair_state</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Not paired;<br>1: Paired</font></td></tr><tr><td><font size=0>conn_state</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Unconnected<br>1: Connecting<br>2: Connected</font></td></tr><tr><td><font size=0>scan_state</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Scanning Stopped;<br>1: Scanning Started</font></td></tr><tr><td><font size=0>adv_state</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Advertising Stopped;<br>1: Advertising Started</font></td></tr></table><p>Example:</p><blockquote><p><em>→AT+STATE=?<br>←+STATE=[1,0,0,0,0]</em></p></blockquote><ul><li><h3 id=get-version><strong>Get Version</strong>
<a class=anchor href=#get-version>#</a></h3></li></ul><p>This command <em>gets</em> the version of the module including chip version, sdk version and firmware version</p><p>Command: <span style=color:blue><strong>AT+VER=?</strong></span></p><p>Response: <span style=color:blue><strong>+VER=[chip_ver,sdk_ver,fw_ver]</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>chip_ver</font></td><td><font size=0>String</font></td><td><font size=0>Chip version</font></td></tr><tr><td><font size=0>sdk_ver</font></td><td><font size=0>String</font></td><td><font size=0>SDK version</font></td></tr><tr><td><font size=0>fw_ver</font></td><td><font size=0>String</font></td><td><font size=0>Firmware version</font></td></tr></table><p>Example:</p><blockquote><p><em>→AT+VER=?<br>←+VER=[&ldquo;602F0100&rdquo;,&ldquo;3.0.0&rdquo;,&ldquo;xxxx&rdquo;]</em></p></blockquote><ul><li><h3 id=uart-configuration><strong>UART Configuration</strong>
<a class=anchor href=#uart-configuration>#</a></h3></li></ul><p>This command <em>sets</em> UART parameters. Once UART parameter is changed, module will automatically reset and all parameters configured before will be lost.</p><p>Command: <span style=color:blue><strong>AT+CFGUART=[baud_rate,&lt;data_bit>,<polarity>,&lt;stop_bit>]</strong></span></p><p>Response: <span style=color:blue><strong>+CFGUART=err_code</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>baud_rate</font></td><td><font size=0>Number</font></td><td><font size=0>Standard UART baud rate value</font></td></tr><tr><td><font size=0>data_bit</font></td><td><font size=0>Number</font></td><td><font size=0>5 - 8 bits</font></td></tr><tr><td><font size=0>polarity</font></td><td><font size=0>Number</font></td><td><font size=0>0：No polarity<br>1：Odd polarity<br>2：Even polarity<br>Other: invalid value</font></td></tr><tr><td><font size=0>stop_bit</font></td><td><font size=0>Number</font></td><td><font size=0>0: 1 stop bits<br>1: 2 stop bits</font></td></tr></table><p>Example:</p><blockquote><p><em>→AT+CFGUART=[921600,8,0,1]<br>←+CFGUART=0000H</em></p></blockquote><ul><li><h3 id=device-general-configuration><strong>Device General Configuration</strong>
<a class=anchor href=#device-general-configuration>#</a></h3></li></ul><p>This command <em><strong>gets</strong></em> or <em><strong>sets</strong></em> the general parameters of the module.</p><p>Command: <span style=color:blue><strong>AT+CFGDEV=[role,dev_addr,addr_type,dev_name,phy]</strong></span></p><p>Response: <span style=color:blue><strong>+CFGDEV=err_code</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>role</font></td><td><font size=0>Number</font></td><td><table width=100% border=0><tr><td><font size=0>1</font></td><td><font size=0>Observer</font></td></tr><tr><td><font size=0>2</font></td><td><font size=0>Broadcaster</font></td></tr><tr><td><font size=0>5</font></td><td><font size=0>Central</font></td></tr><tr><td><font size=0>10</font></td><td><font size=0>Peripheral</font></td></tr><tr><td><font size=0>15</font></td><td><font size=0>All Role</font></td></tr></table></td></tr><tr><td><font size=0>dev_addr</font></td><td><font size=0>String</font></td><td><font size=0>Byte Array format string representing MAC address of device in little-endian mode</font></td></tr><tr><td><font size=0>addr_type</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Public address;<br>1: Static random address</font></td></tr><tr><td><font size=0>dev_name</font></td><td><font size=0>String</font></td><td><font size=0>ASCII</font></td></tr><tr><td><font size=0>phy</font></td><td><font size=0>Number</font></td><td><table width=100% border=0><tr><td><font size=0>0</font></td><td><font size=0>Random</font></td></tr><tr><td><font size=0>1</font></td><td><font size=0>1M Phy</font></td></tr><tr><td><font size=0>2</font></td><td><font size=0>2M Phy</font></td></tr><tr><td><font size=0>4</font></td><td><font size=0>Coded Phy</font></td></tr></table></td></tr></table><p>Example:</p><blockquote><p><em>//Set device as BLE Peripheral, device public MAC address is 11-22-22-22-22-11, device name is &ldquo;Slave&rdquo; and prefered PHY is 1M PHY<br>→AT+CFGDEV=[10,&ldquo;112222222211&rdquo;,0,&ldquo;Slave&rdquo;,1]<br>←+CFGDEV=0000H</em></p></blockquote><blockquote><p><em>//Set device as All role and prefered PHY is Coded Phy<br>→AT+CFGDEV=[15,&ldquo;AABB0101BBAA&rdquo;,0,&ldquo;Slave&rdquo;,4]<br>←+CFGDEV=0000H</em></p></blockquote><ul><li><h3 id=data-transparent-transmission-service-configuration><strong>Data Transparent Transmission Service Configuration</strong>
<a class=anchor href=#data-transparent-transmission-service-configuration>#</a></h3></li></ul><p>This command <em><strong>gets</strong></em> or <em><strong>sets</strong></em> parameters of Inplay private data transparent tranmission service as GATT server, including service UUID, maximum data transmission size etc. After the execution of the command, the service with specified parameters will be created. It MUST be sent after <a href=#device-general-configuration>+CFGDEV</a></p><p>It is only allowed by device with &lsquo;Peripheral role&rsquo; or &lsquo;All role&rsquo;, otherwise 1001H <a href=#error-code>error code</a> is returned.</p><p>Command: <span style=color:blue><strong>AT+CFGTRXSVC=[start_hdl,svc_uuid,max_data_sz]</strong></span></p><p>Response: <span style=color:blue><strong>+CFGTRXSVC=err_code</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>start_hdl</font></td><td><font size=0>Number</font></td><td><font size=0>The start GATT handle of service<br>0: automatically created<br>other: user specific handle number</font></td></tr><tr><td><font size=0>svc_uuid</font></td><td><font size=0>String</font></td><td><font size=0>Byte Array format string representing 16-byte service UUID in little-endian mode. If it is empty, default "ccddb4f8-cdf3-11e9-a32f-2a2ae2dbcce4" is applied</font></td></tr><tr><td><font size=0>max_data_sz</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>Maximum data transmission size<br>0: Default 20 bytes<br>1 - 1024: Maximum data size</font></td></tr></table><p>Example:</p><blockquote><p><em>//Set service UUID as 1122b4f8-cdf3-11e9-a32f-2a2ae2dbcce4 and the maximum transmission data as 512 bytes.<br>→AT+CFGTRXSVC=[0,&ldquo;e4ccdbe22a2a2fa3e911f3cdf8b42211&rdquo;,512]<br>←+CFGTRXSVC=0000H</em></p></blockquote><blockquote><p><em>//Set service UUID by default. Fixed service start handle to 20<br>→AT+CFGTRXSVC=[20,"",0]<br>←+CFGTRXSVC=0000H</em></p></blockquote><ul><li><h3 id=data-transparent-transmission-client-configuration><strong>Data Transparent Transmission Client Configuration</strong>
<a class=anchor href=#data-transparent-transmission-client-configuration>#</a></h3></li></ul><p>This command <em><strong>gets</strong></em> or <em><strong>sets</strong></em> parameter of Inplay private data transparent tranmission service as GATT client. If parameters are not set or parameter &lsquo;start_hdl&rsquo; is set to 0, device will initiate a Service Discovery Process (SDP) to find remote service after connection.</p><p>It is only allowed by device with &lsquo;Central role&rsquo; or &lsquo;All role&rsquo;, otherwise 1001H <a href=#error-code>error code</a> is returned.</p><p>Command: <span style=color:blue><strong>AT+CFGTRXCLT=[start_hdl,svc_uuid]</strong></span></p><p>Response: <span style=color:blue><strong>+CFGTRXCLT=err_code</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>start_hdl</font></td><td><font size=0>Number</font></td><td><font size=0>The start GATT handle of service<br>0: automatically get by SDP<br>other: user specific handle number</font></td></tr><tr><td><font size=0>svc_uuid</font></td><td><font size=0>String</font></td><td><font size=0>Byte Array format string representing 16-byte service UUID in little-endian mode. If it is empty, default "ccddb4f8-cdf3-11e9-a32f-2a2ae2dbcce4" is applied</font></td></tr></table><p>Example:</p><blockquote><p><em>//Set to discover service by SDP.<br>→AT+CFGTRXCLT=[0,&ldquo;e4ccdbe22a2a2fa3e911f3cdf8b42211&rdquo;]<br>←+CFGTRXCLT=0000H</em></p></blockquote><blockquote><p><em>//Set specific start handle and leave other in default, so that SDP is not necessary.<br>→AT+CFGTRXCLT=[20,""]<br>←+CFGTRXCLT=0000H</em></p></blockquote><ul><li><h3 id=rf-configuration><strong>RF Configuration</strong>
<a class=anchor href=#rf-configuration>#</a></h3></li></ul><p>This command <em>gets</em> or <em>sets</em> RF related parameter.</p><p>Command: <span style=color:blue><strong>AT+CFGRF=[tx_power]</strong></span></p><p>Response: <span style=color:blue><strong>+CFGRF=err_code</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>tx_power</font></td><td><font size=0>Number</font></td><td><font size=0>TX power:</font><table width=100% border=0><tr><td><font size=0>0</font></td><td><font size=0>Max TX power (~8dBm)</font></td></tr><tr><td><font size=0>1-15</font></td><td><font size=0>7dBm to 0dBm with step 0.5dBm</font></td></tr><tr><td><font size=0>16-22</font></td><td><font size=0>-1dBm to -7dBm with step -1dBm</font></td></tr></table></td></tr></table><p>Example:</p><blockquote><p><em>//Set TX power +3dBm<br>→AT+CFGRF=[9]<br>←+CFGRF=0000H</em></p></blockquote><ul><li><h3 id=smp-configuration><strong>SMP Configuration</strong>
<a class=anchor href=#smp-configuration>#</a></h3></li></ul><p>This command <em>gets</em> or <em>sets</em> security parameters of the module.</p><p>Command: <span style=color:blue><strong>AT+CFGSMP=[smp,dev_io_cap,pairing_code]</strong></span></p><p>Response: <span style=color:blue><strong>+CFGSMP=err_code</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>smp</font></td><td><font size=0>Number (1 byte)</font></td><td><table width=100% border=0><tr><td><font size=0>-</font></td><td><font size=0>-</font></td><td><font size=0>-</font></td><td><font size=0>-</font></td><td><font size=0>LE Secure Connection</font></td><td><font size=0>MITM</font></td><td><font size=0>-</font></td><td><font size=0>Encryption</font></td></tr><tr><td><font size=0>-</font></td><td><font size=0>-</font></td><td><font size=0>-</font></td><td><font size=0>-</font></td><td><font size=0>Bit3</font></td><td><font size=0>Bit2</font></td><td><font size=0>-</font></td><td><font size=0>Bit0</font></td></tr></table><font size=0>0: false; 1: true</font></td></tr><tr><td><font size=0>dev_io_cap</font></td><td><font size=0>Number</font></td><td align=center><table width=100% border=0><tr><td><font size=0>0</font></td><td><font size=0>Display Only</font></td></tr><tr><td><font size=0>1</font></td><td><font size=0>Display Yes No</font></td></tr><tr><td><font size=0>2</font></td><td><font size=0>Keyboard Only</font></td></tr><tr><td><font size=0>3</font></td><td><font size=0>Keyboard Display</font></td></tr><tr><td><font size=0>4</font></td><td><font size=0>No Input No Output</font></td></tr></table></td></tr><tr><td><font size=0>pairing_code</font></td><td><font size=0>String</font></td><td><font size=0>ASCII Paring code</font></td></tr></table><p>Example:</p><blockquote><p><em>//Set SMP to MITM security and encryption, with ability of keyboard input. The corresponding MITM pairing code is 012345<br>→AT+CFGSMP=[5,2,&ldquo;012345&rdquo;]<br>←+CFGSMP=0000H</em></p></blockquote><ul><li><h3 id=target-device-configuration><strong>Target Device Configuration</strong>
<a class=anchor href=#target-device-configuration>#</a></h3></li></ul><p>This command <em>gets</em> or <em>sets</em> the target devices that are allowed to connect or scan. If <a href=#initiating-activity-configuration>initiating activity</a> is configured as direct connection type, only first device in the device list is the target. Maximum 25 target devices can be set.</p><p>It is only allowed by device with ‘Central role’ or ‘All role’, otherwise 1001H <a href=#error-code>error code</a> is returned.</p><p>Command: <span style=color:blue><strong>AT+CFGTARGET=[dev1_addr,dev1_addr_type,&lt;dev2_addr>,&lt;dev2_addr_type>,&mldr;]</strong></span></p><p>Response: <span style=color:blue><strong>+CFGTARGET=err_code</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>dev_addr</font></td><td><font size=0>String</font></td><td><font size=0>Byte Array format string representing MAC address of target device in little-endian mode</font></td></tr><tr><td><font size=0>dev_addr_type</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Public address;<br>1: Static random address</font></td></tr></table><p>Example:</p><blockquote><p><em>→AT+CFGTARGET=[&ldquo;112222222211&rdquo;,0,&ldquo;AABBCCCCDDEE&rdquo;,0]<br>←+CFGTARGET=0000H</em></p></blockquote><ul><li><h3 id=advertising-activity-configuration><strong>Advertising Activity Configuration</strong>
<a class=anchor href=#advertising-activity-configuration>#</a></h3></li></ul><p>This command <em><strong>sets</strong></em> parameter to create BLE advertising activity. Maximum 2 advertising activities can be created.</p><p>It is only allowed for device which role is configured as &lsquo;Peripheral’ or ‘All role’, otherwise 1001H <a href=#error-code>error code</a> is returned.</p><p>Command: <span style=color:blue><strong>AT+CFGADVACTV=[actv_id,adv_type,connectable,intv,chn,payload]</strong></span></p><p>Response: <span style=color:blue><strong>+CFGADVACTV=err_code</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>actv_id</font></td><td><font size=0>Number</font></td><td><font size=0>Unique ID for advertising activity</font></td></tr><tr><td><font size=0>adv_type</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Legacy Advertise<br>1: Extended Advertise</font></td></tr><tr><td><font size=0>connectable</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Unconnectable<br>1: Connectable</font></td></tr><tr><td><font size=0>intv</font></td><td><font size=0>Number</font></td><td><font size=0>20-10240ms</font></td></tr><tr><td><font size=0>chn</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: all BLE advertising channel<br>37-39: Fixed channel</font></td></tr><tr><td><font size=0>payload</font></td><td><font size=0>String</font></td><td><font size=0>BLE standard advertising data format in base64 encoding<br>Length (1 byte) + Type (1 byte) + Content (length -1 byte)</font></td></tr></table><p>Example:</p><blockquote><p><em>//Set legacy connectable advertising in 500ms interval. The payload is local name &ldquo;Inplay&rdquo;<br>→AT+CFGADVACTV=[1,0,1,500,0,&ldquo;BwlJbnBsYXk=&rdquo;]<br>//Successfully set<br>←+CFGADVACTV=0000H</em></p></blockquote><ul><li><h3 id=scan-activity-configuration><strong>Scan Activity Configuration</strong>
<a class=anchor href=#scan-activity-configuration>#</a></h3></li></ul><p>This command <em><strong>sets</strong></em> parameter to create BLE scan activity. Only one scan activity can be created.</p><p>It is only allowed by device with &lsquo;Central role&rsquo; or &lsquo;All role&rsquo;, otherwise 1001H <a href=#error-code>error code</a> is returned.</p><p>Command: <span style=color:blue><strong>AT+CFGSCANACTV=[actv_id,type]</strong></span></p><p>Response: <span style=color:blue><strong>+CFGSCANACTV=err_code</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>actv_id</font></td><td><font size=0>Number</font></td><td><font size=0>Unique ID for scan activity</font></td></tr><tr><td><font size=0>type</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>2: Observer<br>3: Selective observer. Only devices configured by +CFGTARGET will be reported</font></td></tr></table><p>Example:</p><blockquote><p><em>//Set scan activity<br>→AT+CFGSCANACTV=[20,3]<br>//Successfully set<br>←+CFGSCANACTV=0000H</em></p></blockquote><ul><li><h3 id=initiating-activity-configuration><strong>Initiating Activity Configuration</strong>
<a class=anchor href=#initiating-activity-configuration>#</a></h3></li></ul><p>This command <em><strong>sets</strong></em> parameter to create BLE initiating activity to establish connections with the target device. Only one initiating activity can be created.</p><p>It is only allowed for device which role is configured as &lsquo;Central&rsquo; or &lsquo;All role&rsquo;, otherwise 1001H <a href=#error-code>error code</a> is returned.</p><p>Command: <span style=color:blue><strong>AT+CFGINITACTV=[actv_id,type]</strong></span></p><p>Response: <span style=color:blue><strong>+CFGINITACTV=err_code</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>actv_id</font></td><td><font size=0>Number</font></td><td><font size=0>Unique ID for advertising activity</font></td></tr><tr><td><font size=0>type</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Direct connect<br>1: Auto connect. Only devices configured by +CFGTARGET can be connected</font></td></tr></table><p>Example:</p><blockquote><p><em>//Create initiating activity to auto connect with target devices.<br>→AT+CFGINITACTV=[10,1]<br>//Successfully set<br>←+CFGINITACTV=0000H</em></p></blockquote><blockquote><p><em>//Create initiating activity to direct connect with remote device.<br>→AT+CFGINITACTV=[10,0]<br>//Successfully set<br>←+CFGINITACTV=0000H</em></p></blockquote><ul><li><h3 id=start-advertising-activity><strong>Start Advertising Activity</strong>
<a class=anchor href=#start-advertising-activity>#</a></h3></li></ul><p>This command start advertising activity that is created by previous <a href=#advertising-activity-configuration>+CFGADVACTV</a> command.</p><p>Command: <span style=color:blue><strong>AT+ADVACTV=[actv_id,op,&lt;duration>]</strong></span></p><p>Response: <span style=color:blue><strong>+ADVACTV=err_code</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>actv_id</font></td><td><font size=0>Number</font></td><td><font size=0>Unique ID for advertising activities</font></td></tr><tr><td><font size=0>op</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Stop Activity<br>1: Start Activity</font></td></tr><tr><td><font size=0>duration</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Forever<br>10-65535: Actual duration (in unit of 10ms)<br>Default 0</font></td></tr></table><p>Example:</p><blockquote><p><em>//Start advertising activty permanently<br>→AT+ADVACTV=[1,1,0]<br>//Successfully set<br>←+ADVACTV=0000H</em></p></blockquote><blockquote><p><em>//Stop advertising activity<br>→AT+ADVACTV=[1,0]<br>←+ADVACTV=0000H</em></p></blockquote><ul><li><h3 id=start-scan-activity><strong>Start Scan Activity</strong>
<a class=anchor href=#start-scan-activity>#</a></h3></li></ul><p>This command start scan activity that is created by previous <a href=#scan-activity-configuration>+CFGSCANACTV</a> command. If target devices are not configured by <a href=#target-device-configuration>+CFGTARGET</a> command, advertisement from any devices scaned will be reported.</p><p>Command: <span style=color:blue><strong>AT+SCANACTV=[actv_id,op,&lt;intv>,&lt;wnd>,&lt;chn>,&lt;duration>,&lt;dup_filter>]</strong></span></p><p>Response: <span style=color:blue><strong>+SCANACTV=err_code</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>actv_id</font></td><td><font size=0>Number</font></td><td><font size=0>Unique ID for scan activity</font></td></tr><tr><td><font size=0>op</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Stop Activity<br>1: Start Activity</font></td></tr><tr><td><font size=0>intv</font></td><td><font size=0>Number</font></td><td><font size=0>Scan activity interval 3-40959 ms<br>Default 200ms</font></td></tr><tr><td><font size=0>wnd</font></td><td><font size=0>Number</font></td><td><font size=0>Scan running time, must be less than intv<br>Default 100ms</font></td></tr><tr><td><font size=0>chn</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Scan on three channel alternately<br>37-39: Scan on fixed channel<br>Default 0</font></td></tr><tr><td><font size=0>duration</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Forever<br>10-655350: Actual duration in ms<br>Default 0</font></td></tr><tr><td><font size=0>dup_filter</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: No filtering<br>1: Filter duplicates within the duration<br>Default 0</font></td></tr></table><p>Example:</p><blockquote><p><em>//Start scan activty permanently<br>→AT+SCANACTV=[20,1,200,100,0,0,1]<br>//Successfully set<br>←+SCANACTV=0000H</em></p></blockquote><blockquote><p><em>//Stop scan activity<br>→AT+SCANACTV=[20,0]<br>←+SCANACTV=0000H</em></p></blockquote><ul><li><h3 id=start-initiating-activity><strong>Start Initiating Activity</strong>
<a class=anchor href=#start-initiating-activity>#</a></h3></li></ul><p>This command start initiating activity that is created by previous <a href=#initiating-activity-configuration>+CFGINITACTV</a> command. If target devices are not configured by <a href=#target-device-configuration>+CFGTARGET</a> command, activity cann&rsquo;t be started and retures error response. When it is started permanently, it will end until all target devices configured are connected.</p><p>Command: <span style=color:blue><strong>AT+INITACTV=[actv_id,op,&lt;conn_intv>,&lt;latency>,&lt;sup_tmo>,&lt;duration>]</strong></span></p><p>Response: <span style=color:blue><strong>+INITACTV=err_code</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>actv_id</font></td><td><font size=0>Number</font></td><td><font size=0>Unique ID for initiating activity</font></td></tr><tr><td><font size=0>op</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Stop Activity<br>1: Start Activity</font></td></tr><tr><td><font size=0>conn_intv</font></td><td><font size=0>Number</font></td><td><font size=0>Connection interval: 8 - 4800 ms<br>Default 100 ms</font></td></tr><tr><td><font size=0>latency</font></td><td><font size=0>Number</font></td><td><font size=0>0 - 499<br>Default 0</font></td></tr><tr><td><font size=0>sup_tmo</font></td><td><font size=0>Number</font></td><td><font size=0>100 - 32000 ms<br>Default 20000 ms</font></td></tr><tr><td><font size=0>duration</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Forever<br>10-655350: Actual duration in ms<br>Default 0</font></td></tr></table><p>Example:</p><blockquote><p><em>//Start initiating activty<br>→AT+INITACTV=[10,1,200,0,20000,0]<br>//Successfully set<br>←+INITACTV=0000H</em></p></blockquote><blockquote><p><em>//Stop initiating activity<br>→AT+INITACTV=[10,0]<br>←+INITACTV=0000H</em></p></blockquote><ul><li><h3 id=get-current-connection-list><strong>Get current connection list</strong>
<a class=anchor href=#get-current-connection-list>#</a></h3></li></ul><p>This command <em>gets</em> a list of currently connected devices.</p><p>Command: <span style=color:blue><strong>AT+CONNLST=?</strong></span></p><p>Response: <span style=color:blue><strong>+CONNLST=[&lt;dev1_addr>,&lt;dev1_role>,&lt;dev2_addr>,&lt;dev2_role>,&mldr;]</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>dev_addr</font></td><td><font size=0>String</font></td><td><font size=0>The Byte Array format string representing MAC address of peer device in little-endian mode</font></td></tr><tr><td><font size=0>dev_role</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Peer device as Master role;<br>1: Peer device as Slave role</font></td></tr></table><p>Example:</p><blockquote><p><em>→AT+CONNLST=?<br>//Connect to master device &ldquo;66-55-44-33-22-11&rdquo; and a peripheral device &ldquo;FF-EE-DD-CC-BB-AA&rdquo;<br>←+CONNLST=[&ldquo;112233445566&rdquo;,0,&ldquo;AABBCCDDEEFF&rdquo;,1]</em></p></blockquote><ul><li><h3 id=start-pairing><strong>Start Pairing</strong>
<a class=anchor href=#start-pairing>#</a></h3></li></ul><p>This command start operation of BLE pairing with connected device.</p><p>Command: <span style=color:blue><strong>AT+BOND=[op,dest_addr,&lt;pairing_code>]</strong></span></p><p>Response: <span style=color:blue><strong>+BOND=err_code</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>op</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Cancel pairing<br>1: Start pairing</font></td></tr><tr><td><font size=0>dest_addr</font></td><td><font size=0>String</font></td><td><font size=0>The Byte Array format string representing MAC address of connected device in little-endian mode</font></td></tr><tr><td><font size=0>pairing_code</font></td><td><font size=0>String</font></td><td><font size=0>6 bytes ASCII pairing code</font></td></tr></table><p>Example:</p><blockquote><p><em>→AT+BOND=[1,&ldquo;112233445566&rdquo;,&ldquo;012345&rdquo;]<br>←+BOND=0000H</em></p></blockquote><blockquote><p><em>//Stop pairing<br>→AT+BOND=[0,&ldquo;112233445566&rdquo;]<br>←+BOND=0000H</em></p></blockquote><ul><li><h3 id=data-transmit><strong>Data Transmit</strong>
<a class=anchor href=#data-transmit>#</a></h3></li></ul><p>This command transmit data via Inplay private transparent transmission service.</p><p>Command: <span style=color:blue><strong>AT+DATATX=[dest_addr,data]</strong></span></p><p>Response: <span style=color:blue><strong>+DATATX=err_code</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>dest_addr</font></td><td><font size=0>String</font></td><td><font size=0>The Byte Array format string representing MAC address of destination connected device in little-endian mode</font></td></tr><tr><td><font size=0>data</font></td><td><font size=0>String</font></td><td><font size=0>Base64 encoding string representing binary data to transmit</font></td></tr></table><p>Example:</p><blockquote><p><em>//Send data &ldquo;0x0001020304050607080910&rdquo; to remove device &ldquo;66-55-44-33-22-11&rdquo;<br>→AT+DATATX=[&ldquo;112233445566&rdquo;,&ldquo;AAECAwQFBgcICRA=&rdquo;]<br>←+DATATX=0000H</em></p></blockquote><ul><li><h3 id=reset><strong>Reset</strong>
<a class=anchor href=#reset>#</a></h3></li></ul><p>This command causes the system to reset. While execution, application can choose whether to save or clear current configured parameters permanently. This command don&rsquo;t have any response. The application determines whether reset is complete or not by receiving the <a href=#evtready>+EVTREADY</a> event.</p><p>Command: <span style=color:blue><strong>AT+SYSRST=[op]</strong></span></p><p>Response: <span style=color:blue><strong>N/A</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>op</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Reset module<br>1: Reset after saving current parameters to Flash<br>2: Reset after clearing current parameter from Flash</font></td></tr></table><p>Example:</p><blockquote><p><em>→AT+SYSRST=[1]</em></p></blockquote><ul><li><h3 id=watchdog><strong>Watchdog</strong>
<a class=anchor href=#watchdog>#</a></h3></li></ul><p>This command set up watch dog.</p><p>Command: <span style=color:blue><strong>AT+SYSWDT=[wdt_enable,wdt_int_pol,wdt_tmo]</strong></span></p><p>Response: <span style=color:blue><strong>+SYSWDT=err_code</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>wdt_enable</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Disable<br>1: Enable</font></td></tr><tr><td><font size=0>wdt_int_pol</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Low level trigger interrupt<br>1: High level trigger interrupt</font></td></tr><tr><td><font size=0>wdt_tmo</font></td><td><font size=0>Number</font></td><td><font size=0>1 - 65536 seconds</font></td></tr></table><p>Example:</p><blockquote><p><em>→AT+SYSWDT=[1,0,60]<br>←+SYSWDT=0000H</em></p></blockquote><h2 id=event-reference>EVENT REFERENCE
<a class=anchor href=#event-reference>#</a></h2><ul><li><h3 id=-evtready><strong>-EVTREADY</strong>
<a class=anchor href=#-evtready>#</a></h3></li></ul><p>This event indicates module is ready to accept AT commands. It is usually received after power on reset or <a href=#reset>+SYSRST</a> command is executed.</p><p>Event: <span style=color:blue><strong>-EVTREADY=[prev_state]</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>prev_state</font></td><td><font size=0>Number</font></td><td><table><tr><td><font size=0>0</font></td><td><font size=0>Power on reset or reset command with op 0</font></td></tr><tr><td><font size=0>1</font></td><td><font size=0>Reset command with op 1</font></td></tr><tr><td><font size=0>2</font></td><td><font size=0>Reset command with op 2</font></td></tr><tr><td><font size=0>3</font></td><td><font size=0>Watch dog reset</font></td></tr></table></td></tr></table><p>Example:</p><blockquote><p><em>-EVTREADY=[1]</em></p></blockquote><ul><li><h3 id=-evtconn><strong>-EVTCONN</strong>
<a class=anchor href=#-evtconn>#</a></h3></li></ul><p>This event indicates device has been connected or disconnected.</p><p>Event: <span style=color:blue><strong>-EVTCONN=[state,peer_addr,role,phy]</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>state</font></td><td><font size=0>Number</font></td><td><font size=0>0: Disconnect<br>1: Connect</font></td></tr><tr><td><font size=0>peer_addr</font></td><td><font size=0>String</font></td><td><font size=0>Byte Array format string representing MAC address of peer device in little</font></td></tr><tr><td><font size=0>role</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>5: Device is connected as Master role;<br>10: Device is connected as Slave role</font></td></tr><tr><td><font size=0>phy</font></td><td><font size=0>Number</font></td><td><font size=0>Phy that connection on. Please refer to PHY parameter in command +DEVCFG</fond></td></tr></table><p>Example:</p><blockquote><p><em>//Successfully connected with remote Master device &ldquo;EF:DD:CC:CC:BB:EF&rdquo; on 1M PHY.<br>-EVTCONN=[1,&lsquo;EFBBCCCCDDEF&rsquo;,1,1]</em></p></blockquote><ul><li><h3 id=-evtdata><strong>-EVTDATA</strong>
<a class=anchor href=#-evtdata>#</a></h3></li></ul><p>This event indicates the data reception from peer device.</p><p>Event: <span style=color:blue><strong>-EVTDATA=[peer_addr,data]</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>peer_addr</font></td><td><font size=0>String</font></td><td><font size=0>Byte Array format string representing MAC address of peer device in little-endian mode</font></td></tr><tr><td><font size=0>data</font></td><td><font size=0>String</font></td><td><font size=0>Base64 encoding format string representing binary data received</fond></td></tr></table><p>Example:</p><blockquote><p><em>//Data &ldquo;0x0001020304050607080910&rdquo; received from remove device &ldquo;66-55-44-33-22-11”<br>-EVTDATA=[&ldquo;112233445566&rdquo;,&ldquo;AAECAwQFBgcICRA=&rdquo;]</em></p></blockquote><ul><li><h3 id=-evtadv><strong>-EVTADV</strong>
<a class=anchor href=#-evtadv>#</a></h3></li></ul><p>This event indicates that an advertising signal has been scanned.</p><p>Event: <span style=color:blue><strong>-EVTADV=[dev_addr,addr_type,connectable,rssi,payload]</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>dev_addr</font></td><td><font size=0>String</font></td><td><font size=0>Byte Array format string representing MAC address of advertising device in little-endian mode</font></td></tr><tr><td><font size=0>addr_type</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Public<br>1: Static random</font></td></tr><tr><td><font size=0>connectable</font></td><td><font size=0>Number</font></td><td style=white-space:pre><font size=0>0: Unconnectable<br>1: Connectable</font></td></tr><tr><td><font size=0>rssi</font></td><td><font size=0>Number</font></td><td><font size=0>Signed integer in dBm</font></td></tr><tr><td><font size=0>payload</font></td><td><font size=0>String</font></td><td><font size=0>Base64 encoding format string representing advertising payload binary data</fond></td></tr></table><p>Example:</p><blockquote><p><em>//A connectable ad with local name &lsquo;Inplay&rsquo; as payload from device &lsquo;66-55-44-33-22-11&rsquo; is scanned. RSSI is -80dBm.<br>-EVTADV=[&ldquo;112233445566&rdquo;,0,1,-80,&ldquo;BwlJbnBsYXk=&rdquo;]</em></p></blockquote><ul><li><h3 id=-evtactvend><strong>-EVTACTVEND</strong>
<a class=anchor href=#-evtactvend>#</a></h3></li></ul><p>This event indicates the termination of the command <a href=#start-scan-activity>+SCANACTV</a>, <a href=#start-advertising-activity>+ADVACTV</a>, <a href=#start-initiating-activity>+INITACTV</a> and <a href=#start-pairing>+BOND</a>, whether the commands are terminated automatically or manually.</p><p>Event: <span style=color:blue><strong>-EVTACTVEND=[actv_type,actv_id]</strong></span></p><table width=100% border=0><tr><th width=8% align=center bgcolor=#cccccc>Parameter</th><th width=10% align=center bgcolor=#cccccc>Type</th><th width=82% align=center bgcolor=#cccccc>Value</th></tr><tr><td><font size=0>actv_type</font></td><td><font size=0>Number</font></td><td><table><tr><td><font size=0>0</font></td><td><font size=0>Advertising activity</font></td></tr><tr><td><font size=0>1</font></td><td><font size=0>Scan activity</font></td></tr><tr><td><font size=0>2</font></td><td><font size=0>Initiating activity</font></td></tr><tr><td><font size=0>3</font></td><td><font size=0>Bond</font></td></tr></table></td></tr><tr><td><font size=0>actv_id</font></td><td><font size=0>Number</font></td><td><font size=0>Unique ID for activity</font></td></tr></table><p>Example:</p><blockquote><p><em>//Advertising activity 1 has ended<br>-EVTACTVEND=[0,1]</em></p></blockquote><blockquote><p><em>//Scan activity has ended<br>-EVTACTVEND=[1,20]</em></p></blockquote><h2 id=error-code>ERROR CODE
<a class=anchor href=#error-code>#</a></h2><p>The ERROR CODE is returned as a hexadecimal value. Please refer to following table for details.</p><table width=100% border=0><tr><td width=60%><font size=0>0000H</font></td><td width=80%><font size=0>Command executed successfully</font></td></tr><tr><td width=60%><font size=0>1001H</font></td><td width=80%><font size=0>Wrong command execution</font></td></tr><tr><td width=60%><font size=0>100AH</font></td><td width=80%><font size=0>Wrong CommandID</font></td></tr><tr><td width=60%><font size=0>100BH</font></td><td width=80%><font size=0>Wrong format</font></td></tr><tr><td width=60%><font size=0>100DH</font></td><td width=80%><font size=0>Wrong parameter</font></td></tr><tr><td width=60%><font size=0>100EH</font></td><td width=80%><font size=0>Execution overtime</font></td></tr><tr><td width=60%><font size=0>Others</font></td><td width=80%><font size=0>BLE error. Refer to in_ble_error.h in SDK</font></td></tr></table></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ol><li><a href=#introduction>INTRODUCTION</a></li><li><a href=#control-interface>CONTROL INTERFACE</a></li><li><a href=#syntax>SYNTAX</a><ol><li><a href=#command-syntax><strong>COMMAND SYNTAX</strong></a></li><li><a href=#response-syntax><strong>RESPONSE SYNTAX</strong></a></li><li><a href=#event-syntax><strong>EVENT SYNTAX</strong></a></li><li><a href=#parameter-value><strong>PARAMETER VALUE</strong></a></li><li><a href=#examples><strong>EXAMPLES</strong></a></li></ol></li><li><a href=#command-reference>COMMAND REFERENCE</a><ol><li><a href=#get-module-state><strong>Get Module State</strong></a></li><li><a href=#get-version><strong>Get Version</strong></a></li><li><a href=#uart-configuration><strong>UART Configuration</strong></a></li><li><a href=#device-general-configuration><strong>Device General Configuration</strong></a></li><li><a href=#data-transparent-transmission-service-configuration><strong>Data Transparent Transmission Service Configuration</strong></a></li><li><a href=#data-transparent-transmission-client-configuration><strong>Data Transparent Transmission Client Configuration</strong></a></li><li><a href=#rf-configuration><strong>RF Configuration</strong></a></li><li><a href=#smp-configuration><strong>SMP Configuration</strong></a></li><li><a href=#target-device-configuration><strong>Target Device Configuration</strong></a></li><li><a href=#advertising-activity-configuration><strong>Advertising Activity Configuration</strong></a></li><li><a href=#scan-activity-configuration><strong>Scan Activity Configuration</strong></a></li><li><a href=#initiating-activity-configuration><strong>Initiating Activity Configuration</strong></a></li><li><a href=#start-advertising-activity><strong>Start Advertising Activity</strong></a></li><li><a href=#start-scan-activity><strong>Start Scan Activity</strong></a></li><li><a href=#start-initiating-activity><strong>Start Initiating Activity</strong></a></li><li><a href=#get-current-connection-list><strong>Get current connection list</strong></a></li><li><a href=#start-pairing><strong>Start Pairing</strong></a></li><li><a href=#data-transmit><strong>Data Transmit</strong></a></li><li><a href=#reset><strong>Reset</strong></a></li><li><a href=#watchdog><strong>Watchdog</strong></a></li></ol></li><li><a href=#event-reference>EVENT REFERENCE</a><ol><li><a href=#-evtready><strong>-EVTREADY</strong></a></li><li><a href=#-evtconn><strong>-EVTCONN</strong></a></li><li><a href=#-evtdata><strong>-EVTDATA</strong></a></li><li><a href=#-evtadv><strong>-EVTADV</strong></a></li><li><a href=#-evtactvend><strong>-EVTACTVEND</strong></a></li></ol></li><li><a href=#error-code>ERROR CODE</a></li></ol></nav></div></aside><script src=../../../../js/fuse.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=../../../../js/mark.min.js crossorigin=anonymous referrerpolicy=no-referrer></script><script src=../../../../js/fastsearch.js crossorigin=anonymous referrerpolicy=no-referrer></script></main><footer class="bg-black bottom-0 w-100 pa3" style=position:fixed;bottom:0;width:100% role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" style=color:#000>&copy; Copyright 2024 InPlay Inc</a></div></footer></body></html>